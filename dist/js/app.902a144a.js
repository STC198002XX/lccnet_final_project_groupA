(function(){"use strict";var e={972:function(e,a,t){var l=t(5130),n=t(6768),s=t(2261),r=t(144);t(4114),t(8111),t(2489),t(116),t(1701),t(8237);const o="https://backend1140813groupa-eb1e507c23be.herokuapp.com",i=(0,s.nY)("cart",{state:()=>({items:[]}),actions:{async clearCart(){const e=u();this.items=[],e.user?.id&&await fetch(`${o}/api/cart/clear`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.user.id})})},async addItem(e){const a=this.items.find(a=>a.id===e.id);a?a.quantity+=1:this.items.push({...e,quantity:1}),console.log("目前購物車：",JSON.stringify(this.items));const t=u();t.user?.id&&await fetch(`${o}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.user.id,product_id:e.id,quantity:1})})},async individualaddItem(e){const a=this.items.find(a=>a.id===e.id);a?a.quantity+=e.quantity:this.items.push({...e,quantity:e.quantity}),console.log("目前購物車：",JSON.stringify(this.items));const t=u();t.user?.id&&await fetch(`${o}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.user.id,product_id:e.id,quantity:e.quantity})})},async updateQuantity(e,a){const t=this.items.find(a=>a.id===e);t&&(t.quantity=a);const l=u();l.user?.id&&await fetch(`${o}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:l.user.id,product_id:e,quantity:a})})},async removeItem(e){this.items=this.items.filter(a=>a.id!==e);const a=u();a.user?.id&&await fetch(`${o}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a.user.id,product_id:e,quantity:0})})},async loadFromServer(e){try{const a=await fetch(`${o}/api/cart?user_id=${e}`),t=await a.json(),l=await fetch(`${o}/api/products`),n=await l.json();this.items=Array.isArray(t.items)?t.items.map(e=>{const a=n.find(a=>a.product_id===e.product_id);return{id:e.product_id,name:a?.name||"",price:a?.price||0,image:a?.image||"",quantity:e.quantity}}):[]}catch(a){console.error("❌ 載入購物車失敗",a),this.items=[]}}},getters:{totalPrice:e=>e.items.reduce((e,a)=>e+a.price*a.quantity,0),totalQuantity:e=>e.items.reduce((e,a)=>e+a.quantity,0)},persist:!0}),u=(0,s.nY)("auth",()=>{const e=(0,r.KR)(""),a=(0,r.KR)(""),t=(0,r.KR)(""),l=(0,r.KR)(!1),n=(0,r.KR)(null);function s({token:s,userEmail:r,userName:o,isManager:i,user:u}){e.value=s,a.value=r,t.value=o,l.value=i,n.value=u}function o(){e.value="",a.value="",t.value="",l.value=!1,n.value=null,localStorage.clear();const s=i();s.clearCart(),localStorage.removeItem("pinia-cart"),localStorage.removeItem("userEmail"),localStorage.removeItem("token")}function u(){e.value=localStorage.getItem("token")||"",a.value=localStorage.getItem("userEmail")||"",t.value=localStorage.getItem("userName")||"",l.value=JSON.parse(localStorage.getItem("isManager")||"false");const s=localStorage.getItem("user");n.value=s?JSON.parse(s):null}return{token:e,userEmail:a,userName:t,isManager:l,user:n,setAuth:s,logout:o,initFromLocal:u}});var c={__name:"App",setup(e){const a=u(),t=i();return(0,n.sV)(()=>{a.initFromLocal(),a.user?.id&&t.loadFromServer(a.user.id)}),(0,n.wB)(()=>a.user?.id,e=>{e&&t.loadFromServer(e)}),(e,a)=>{const t=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(t)}}};const d=c;var v=d,m=t(1387),p=t(4232),k={__name:"GoogleMap",props:{center:{type:Object,default:()=>({lat:25.092963,lng:121.525757})},zoom:{type:Number,default:15},markerTitle:{type:String,default:"地標"}},setup(e){const a=(0,r.KR)(null),t=e;return(0,n.sV)(()=>{if(!window.google||!window.google.maps)return void console.error("Google Maps script 尚未載入");const e=new google.maps.Map(a.value,{center:t.center,zoom:t.zoom});new google.maps.Marker({position:t.center,map:e,title:t.markerTitle})}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",{ref_key:"mapContainer",ref:a,class:"google-map"},null,512))}},b=t(1241);const g=(0,b.A)(k,[["__scopeId","data-v-13dd562c"]]);var L=g;const f={class:"header_area"},_={class:"main_menu"},h={class:"navbar navbar-expand-lg navbar-light"},y={class:"container"},C={class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},x={class:"nav navbar-nav menu_nav ml-auto mr-auto"},w={class:"nav-item active"},E={class:"nav-shop"},S={class:"nav-item"},F={class:"nav-shop__circle"},P={class:"nav-item"},X={key:0,class:"nav navbar-nav menu_nav"},R={class:"nav-item"},K={class:"nav-link"},q={class:"nav-item"},I={class:"nav-item mt-10"},O={key:1,class:"nav navbar-nav menu_nav"},W={class:"nav-item active"},j={class:"container"},$={class:"row"},N={class:"card text-center card-product"},A={class:"card-product__img"},V=["src","alt"],J={class:"card-body"},M={class:"card-product__title"},T={class:"card-product__price"},Q=["onClick"],D={key:0,class:"cart-popup"},U={class:"cart-popup-inner"},B={class:"d-flex justify-content-between align-items-center mb-2"},H=["src"],z={class:"cart-item-info"},G={class:"mb-1"},Y={class:"mb-0 text-muted"},Z={class:"mt-2"},ee={class:"d-flex justify-content-between mt-3"},ae={class:"container"};var te={__name:"Home",setup(e){const a=u(),t=i(),s=(0,r.KR)(!1),o=(0,r.KR)(null),c=(0,n.EW)(()=>!!a.token&&!!a.userEmail),d=(0,n.EW)(()=>a.userName||a.userEmail),v=[{id:"product_0043",name:"Premium Reed Diffuser 3000 ML - Bulgarian Rose & Oud",price:1350,category:"Diffusers",image:"/aroma/img/NewProducts/Premium_Reed_Diffuser_3000_ML_-_Bulgarian_Rose_&_O.jpg"},{id:"product_0073",name:"Omani lime lipbalm",price:68,category:"Body Care",image:"/aroma/img/NewProducts/Omani_lime_lipbalm.jpg"},{id:"product_0017",name:"3 wick XL Candle - Velvet Wood",price:265,category:"Candles",image:"/aroma/img/NewProducts/3_wick_XL_Candle_-_Velvet_Wood.jpg"},{id:"product_0024",name:"Omani Frankincense",price:142,category:"Diffusers",image:"/aroma/img/NewProducts/Omani_Frankincense.jpg"},{id:"product_0089",name:"Minois bubble bath",price:125,category:"Kids",image:"/aroma/img/NewProducts/Minois_bubble_bath.jpg"},{id:"product_0079",name:"Dukhoon No.2",price:105,category:"Mukhallat",image:"/aroma/img/NewProducts/Dukhoon_No.2.jpg"},{id:"product_0083",name:"PMLM04",price:262,category:"Perfumes",image:"/aroma/img/NewProducts/PMLM04.jpg"},{id:"product_0052",name:"All Over Spray Rose",price:220,category:"Room Spray",image:"/aroma/img/NewProducts/All_Over_Spray_Rose.jpg"}];function m(e){t.addItem({...e,quantity:1}),s.value=!0}function k(){o.value&&o.value.scrollIntoView({behavior:"smooth"})}function b(){c.value?s.value=!s.value:alert("請先登入")}function g(e){c.value?m(e):alert("請先登入")}return(e,i)=>{const u=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("header",f,[(0,n.Lk)("div",_,[(0,n.Lk)("nav",h,[(0,n.Lk)("div",y,[i[11]||(i[11]=(0,n.Fv)('<a class="navbar-brand logo_h" href="#" data-v-617aaaa7><img src="/aroma/img/logo.png" alt="" data-v-617aaaa7></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" data-v-617aaaa7><span class="icon-bar" data-v-617aaaa7></span><span class="icon-bar" data-v-617aaaa7></span><span class="icon-bar" data-v-617aaaa7></span></button>',2)),(0,n.Lk)("div",C,[(0,n.Lk)("ul",x,[i[3]||(i[3]=(0,n.Lk)("li",{class:"nav-item active"},[(0,n.Lk)("a",{class:"nav-link",href:"#"},"Home")],-1)),(0,n.Lk)("li",w,[(0,n.bF)(u,{to:"/shop",class:"nav-link"},{default:(0,n.k6)(()=>i[2]||(i[2]=[(0,n.eW)("Shop")])),_:1,__:[2]})])]),(0,n.Lk)("ul",E,[(0,n.Lk)("li",S,[(0,n.Lk)("button",{onClick:b},[i[4]||(i[4]=(0,n.Lk)("i",{class:"ti-shopping-cart"},null,-1)),(0,n.Lk)("span",F,(0,p.v_)((0,r.R1)(t).items.length),1)])]),(0,n.Lk)("li",P,[(0,n.Lk)("a",{class:"button button-header",href:"#",onClick:(0,l.D$)(k,["prevent"])},"Buy Now")])]),c.value?((0,n.uX)(),(0,n.CE)("ul",X,[(0,n.Lk)("li",R,[(0,n.Lk)("span",K,"您好，"+(0,p.v_)(d.value),1)]),i[6]||(i[6]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",q,[(0,n.bF)(u,{to:"/member/profile",class:"nav-link"},{default:(0,n.k6)(()=>i[5]||(i[5]=[(0,n.eW)("會員中心")])),_:1,__:[5]})]),i[7]||(i[7]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",I,[(0,n.Lk)("a",{href:"#",class:"nav-link",onClick:i[0]||(i[0]=(...e)=>(0,r.R1)(a).logout&&(0,r.R1)(a).logout(...e))},"登出")])])):((0,n.uX)(),(0,n.CE)("ul",O,[(0,n.Lk)("li",W,[(0,n.bF)(u,{to:"/login",class:"nav-link"},{default:(0,n.k6)(()=>i[8]||(i[8]=[(0,n.eW)("登入")])),_:1,__:[8]}),i[10]||(i[10]=(0,n.Lk)("span",{class:"mx-1 text-gray-200"},"|",-1)),(0,n.bF)(u,{to:"/register",class:"nav-link"},{default:(0,n.k6)(()=>i[9]||(i[9]=[(0,n.eW)("註冊")])),_:1,__:[9]})])]))])])])])]),i[18]||(i[18]=(0,n.Fv)('<section class="hero-banner" data-v-617aaaa7><div class="container" data-v-617aaaa7><div class="row no-gutters align-items-center pt-60px" data-v-617aaaa7><div class="col-5 d-none d-sm-block" data-v-617aaaa7><div class="hero-banner__img" data-v-617aaaa7><img class="img-fluid" src="/aroma/img/home/hero-banner.png" alt="" data-v-617aaaa7></div></div><div class="col-sm-7 col-lg-6 offset-lg-1 pl-4 pl-md-5 pl-lg-0" data-v-617aaaa7><div class="hero-banner__content" data-v-617aaaa7><h4 data-v-617aaaa7>Shop is fun</h4><h1 data-v-617aaaa7>Browse Our Premium Product</h1><p data-v-617aaaa7>Us which over of signs divide dominion deep fill bring...</p></div></div></div></div></section>',1)),(0,n.Lk)("section",{ref_key:"trendingSection",ref:o,class:"section-margin calc-60px"},[(0,n.Lk)("div",j,[i[12]||(i[12]=(0,n.Lk)("div",{class:"section-intro pb-60px"},[(0,n.Lk)("p",null,"Popular Item in the market"),(0,n.Lk)("h2",null,[(0,n.eW)("Trending "),(0,n.Lk)("span",{class:"section-intro__style"},"Product")])],-1)),(0,n.Lk)("div",$,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(v,e=>(0,n.Lk)("div",{key:e.id,class:"col-md-6 col-lg-4 col-xl-3"},[(0,n.Lk)("div",N,[(0,n.bF)(u,{to:`/product/${e.id}`},{default:(0,n.k6)(()=>[(0,n.Lk)("div",A,[(0,n.Lk)("img",{class:"card-img",src:e.image,alt:e.name},null,8,V)])]),_:2},1032,["to"]),(0,n.Lk)("div",J,[(0,n.Lk)("p",null,(0,p.v_)(e.category),1),(0,n.Lk)("h4",M,(0,p.v_)(e.name),1),(0,n.Lk)("p",T,"$"+(0,p.v_)(e.price),1),(0,n.Lk)("button",{class:"btn btn-sm btn-primary mt-2",onClick:a=>g(e)}," 🛒 加入購物車 ",8,Q)])])])),64))])])],512),s.value?((0,n.uX)(),(0,n.CE)("div",D,[(0,n.Lk)("div",U,[(0,n.Lk)("div",B,[i[14]||(i[14]=(0,n.Lk)("h5",null,"🛒 購物車",-1)),(0,n.bF)(u,{to:"/cart",class:"btn btn-sm btn-info"},{default:(0,n.k6)(()=>i[13]||(i[13]=[(0,n.eW)("管理購物車")])),_:1,__:[13]})]),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(t).items,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"cart-item"},[(0,n.Lk)("img",{src:e.image,alt:"商品圖片",class:"cart-item-image"},null,8,H),(0,n.Lk)("div",z,[(0,n.Lk)("p",G,(0,p.v_)(e.name)+" × "+(0,p.v_)(e.quantity),1),(0,n.Lk)("p",Y,"$"+(0,p.v_)((e.price*e.quantity).toFixed(2)),1)])]))),128))]),(0,n.Lk)("p",Z,[i[15]||(i[15]=(0,n.Lk)("strong",null,"總金額：",-1)),(0,n.eW)(" $"+(0,p.v_)((0,r.R1)(t).totalPrice.toFixed(2)),1)]),(0,n.Lk)("div",ee,[(0,n.Lk)("button",{class:"btn btn-sm btn-secondary",onClick:i[1]||(i[1]=e=>s.value=!1)},"關閉"),(0,n.bF)(u,{to:"/checkout",class:"btn btn-sm btn-success"},{default:(0,n.k6)(()=>i[16]||(i[16]=[(0,n.eW)("前往結帳")])),_:1,__:[16]})])])])):(0,n.Q3)("",!0),(0,n.Lk)("section",{ref_key:"trendingSection",ref:o,class:"section-margin calc-60px"},[(0,n.Lk)("div",ae,[i[17]||(i[17]=(0,n.Lk)("h2",null,"Location",-1)),(0,n.bF)(L,{center:{lat:25.092963,lng:121.525757},zoom:16,markerTitle:"聯成電腦-士林"})])],512),i[19]||(i[19]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))])}}};const le=(0,b.A)(te,[["__scopeId","data-v-617aaaa7"]]);var ne=le;const se={class:"header_area"},re={class:"main_menu"},oe={class:"navbar navbar-expand-lg navbar-light"},ie={class:"container"},ue={class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},ce={class:"nav navbar-nav menu_nav ml-auto mr-auto"},de={class:"nav-item active"},ve={class:"nav-item active"},me={class:"nav-shop"},pe={class:"nav-item"},ke={class:"nav-shop__circle"},be={class:"nav-item"},ge={key:0,class:"nav navbar-nav menu_nav"},Le={class:"nav-item"},fe={class:"nav-link"},_e={class:"nav-item"},he={class:"nav-item mt-10"},ye={key:1,class:"nav navbar-nav menu_nav"},Ce={class:"nav-item active"},xe={key:0,class:"cart-popup"},we={class:"cart-popup-inner"},Ee={class:"d-flex justify-content-between align-items-center mb-2"},Se=["src"],Fe={class:"cart-item-info"},Pe={class:"mb-1"},Xe={class:"mb-0 text-muted"},Re={class:"mt-2"},Ke={class:"d-flex justify-content-between mt-3"};var qe={__name:"Header",setup(e){const a=(0,m.lq)(),t=u(),s=i(),o=(0,r.KR)(!1),c=(0,r.KR)(null),d=(0,n.EW)(()=>!!t.token),v=(0,n.EW)(()=>t.userName||t.userEmail),k=(0,n.EW)(()=>"/"===a.path);function b(){c.value&&c.value.scrollIntoView({behavior:"smooth"})}function g(){d.value?o.value=!o.value:alert("請先登入")}return(e,a)=>{const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("header",se,[(0,n.Lk)("div",re,[(0,n.Lk)("nav",oe,[(0,n.Lk)("div",ie,[(0,n.bF)(i,{to:"/",onClick:a[0]||(a[0]=e=>console.log("Going home"))},{default:(0,n.k6)(()=>a[3]||(a[3]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[3]}),(0,n.Lk)("div",ue,[(0,n.Lk)("ul",ce,[(0,n.Lk)("li",de,[(0,n.bF)(i,{to:"/",class:"nav-link"},{default:(0,n.k6)(()=>a[4]||(a[4]=[(0,n.eW)("Home")])),_:1,__:[4]})]),(0,n.Lk)("li",ve,[(0,n.bF)(i,{to:"/shop",class:"nav-link"},{default:(0,n.k6)(()=>a[5]||(a[5]=[(0,n.eW)("Shop")])),_:1,__:[5]})])]),(0,n.Lk)("ul",me,[(0,n.Lk)("li",pe,[(0,n.Lk)("button",{onClick:g},[a[6]||(a[6]=(0,n.Lk)("i",{class:"ti-shopping-cart"},null,-1)),(0,n.Lk)("span",ke,(0,p.v_)((0,r.R1)(s).items.length),1)])]),(0,n.Lk)("li",be,[k.value?((0,n.uX)(),(0,n.CE)("a",{key:0,class:"button button-header",href:"#",onClick:(0,l.D$)(b,["prevent"])},"Buy Now")):(0,n.Q3)("",!0)])]),d.value?((0,n.uX)(),(0,n.CE)("ul",ge,[(0,n.Lk)("li",Le,[(0,n.Lk)("span",fe,"您好，"+(0,p.v_)(v.value),1)]),a[8]||(a[8]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",_e,[(0,n.bF)(i,{to:"/member/profile",class:"nav-link"},{default:(0,n.k6)(()=>a[7]||(a[7]=[(0,n.eW)("會員中心")])),_:1,__:[7]})]),a[9]||(a[9]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",he,[(0,n.Lk)("a",{href:"#",class:"nav-link",onClick:a[1]||(a[1]=(...e)=>(0,r.R1)(t).logout&&(0,r.R1)(t).logout(...e))},"登出")])])):((0,n.uX)(),(0,n.CE)("ul",ye,[(0,n.Lk)("li",Ce,[(0,n.bF)(i,{to:"/login",class:"nav-link"},{default:(0,n.k6)(()=>a[10]||(a[10]=[(0,n.eW)("登入")])),_:1,__:[10]}),a[12]||(a[12]=(0,n.Lk)("span",{class:"mx-1 text-gray-200"},"|",-1)),(0,n.bF)(i,{to:"/register",class:"nav-link"},{default:(0,n.k6)(()=>a[11]||(a[11]=[(0,n.eW)("註冊")])),_:1,__:[11]})])]))])])])]),o.value?((0,n.uX)(),(0,n.CE)("div",xe,[(0,n.Lk)("div",we,[(0,n.Lk)("div",Ee,[a[14]||(a[14]=(0,n.Lk)("h5",null,"🛒 購物車",-1)),(0,n.bF)(i,{to:"/cart",class:"btn btn-sm btn-info"},{default:(0,n.k6)(()=>a[13]||(a[13]=[(0,n.eW)("管理購物車")])),_:1,__:[13]})]),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(s).items,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"cart-item"},[(0,n.Lk)("img",{src:e.image,alt:"商品圖片",class:"cart-item-image"},null,8,Se),(0,n.Lk)("div",Fe,[(0,n.Lk)("p",Pe,(0,p.v_)(e.name)+" × "+(0,p.v_)(e.quantity),1),(0,n.Lk)("p",Xe,"$"+(0,p.v_)((e.price*e.quantity).toFixed(2)),1)])]))),128))]),(0,n.Lk)("p",Re,[a[15]||(a[15]=(0,n.Lk)("strong",null,"總金額：",-1)),(0,n.eW)(" $"+(0,p.v_)((0,r.R1)(s).totalPrice.toFixed(2)),1)]),(0,n.Lk)("div",Ke,[(0,n.Lk)("button",{class:"btn btn-sm btn-secondary",onClick:a[2]||(a[2]=e=>o.value=!1)},"關閉"),(0,n.bF)(i,{to:"/checkout",class:"btn btn-sm btn-success"},{default:(0,n.k6)(()=>a[16]||(a[16]=[(0,n.eW)("前往結帳")])),_:1,__:[16]})])])])):(0,n.Q3)("",!0)])}}};const Ie=(0,b.A)(qe,[["__scopeId","data-v-1c95ff92"]]);var Oe=Ie;const We={class:"container mt-5"},je={key:0,class:"table table-bordered mt-4"},$e=["onClick"],Ne=["onClick"],Ae=["onClick"],Ve={key:1},Je={key:2,class:"text-right mt-4"};var Me={__name:"Cart",setup(e){const a=i();function t(e){const t=a.items.find(a=>a.id===e);if(t){const l=t.quantity+1;a.updateQuantity(e,l)}}function l(e){const t=a.items.find(a=>a.id===e);if(t&&t.quantity>1){const l=t.quantity-1;a.updateQuantity(e,l)}}return(e,s)=>{const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(Oe,{cartCount:(0,r.R1)(a).items.length},null,8,["cartCount"]),(0,n.Lk)("div",We,[s[4]||(s[4]=(0,n.Lk)("h2",null,"🛒 購物車清單",-1)),(0,r.R1)(a).items.length>0?((0,n.uX)(),(0,n.CE)("table",je,[s[1]||(s[1]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"商品名稱"),(0,n.Lk)("th",null,"單價"),(0,n.Lk)("th",null,"數量"),(0,n.Lk)("th",null,"總價"),(0,n.Lk)("th",null,"操作")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(a).items,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,p.v_)(e.name),1),(0,n.Lk)("td",null,"$"+(0,p.v_)(e.price.toFixed(2)),1),(0,n.Lk)("td",null,(0,p.v_)(e.quantity),1),(0,n.Lk)("td",null,"$"+(0,p.v_)((e.price*e.quantity).toFixed(2)),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-sm btn-success",onClick:a=>t(e.id)},"＋",8,$e),(0,n.Lk)("button",{class:"btn btn-sm btn-warning mx-1",onClick:a=>l(e.id)},"－",8,Ne),(0,n.Lk)("button",{class:"btn btn-sm btn-danger",onClick:t=>(0,r.R1)(a).removeItem(e.id)},"❌",8,Ae)])]))),128))])])):((0,n.uX)(),(0,n.CE)("div",Ve,s[2]||(s[2]=[(0,n.Lk)("p",null,"購物車是空的。",-1)]))),(0,r.R1)(a).items.length>0?((0,n.uX)(),(0,n.CE)("div",Je,[(0,n.Lk)("h4",null,"總金額：$"+(0,p.v_)((0,r.R1)(a).totalPrice.toFixed(2)),1),(0,n.Lk)("button",{class:"btn btn-warning mt-3",onClick:s[0]||(s[0]=e=>(0,r.R1)(a).clearCart())},"清空購物車"),(0,n.bF)(o,{to:"/checkout"},{default:(0,n.k6)(()=>s[3]||(s[3]=[(0,n.Lk)("button",{class:"btn btn-primary mt-3 ml-2"},"前往結帳",-1)])),_:1,__:[3]})])):(0,n.Q3)("",!0)])])}}};const Te=Me;var Qe=Te,De=t(4373);const Ue={class:"container mt-5"},Be={class:"form-group"},He={class:"form-group"},ze={class:"form-group"},Ge={class:"form-group"};var Ye={__name:"Checkout",setup(e){const a="https://backend1140813groupa-eb1e507c23be.herokuapp.com",t=i(),s=u(),o=(0,r.Kh)({name:"",address:"",phone:"",note:""});async function c(){try{if(!s.user?.id)return void alert("❌ 尚未登入，請先登入");const e={user_id:s.user.id,...o,items:t.items.map(e=>({product_id:e.id,quantity:e.quantity}))},l=await De.A.post(`${a}/api/orders`,e),n=l.data;console.log("訂單資料:",n);const r=await De.A.post(`${a}/api/ecpay-pay`,{amount:n.amount,desc:"訂單說明",itemName:"購物商品項目",orderNo:n.order_id});t.clearCart();const i=document.createElement("div");i.innerHTML=r.data,document.body.appendChild(i),i.querySelector("form").submit()}catch(e){alert("❌ 訂單送出失敗"),console.error(e)}}return(e,a)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(Oe,{cartCount:(0,r.R1)(t).items.length},null,8,["cartCount"]),(0,n.Lk)("div",Ue,[a[9]||(a[9]=(0,n.Lk)("h2",null,"📝 結帳表單",-1)),(0,n.Lk)("form",{onSubmit:(0,l.D$)(c,["prevent"])},[(0,n.Lk)("div",Be,[a[4]||(a[4]=(0,n.Lk)("label",null,"姓名",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>o.name=e),type:"text",class:"form-control",required:""},null,512),[[l.Jo,o.name]])]),(0,n.Lk)("div",He,[a[5]||(a[5]=(0,n.Lk)("label",null,"地址",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>o.address=e),type:"text",class:"form-control",required:""},null,512),[[l.Jo,o.address]])]),(0,n.Lk)("div",ze,[a[6]||(a[6]=(0,n.Lk)("label",null,"電話",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>o.phone=e),type:"text",class:"form-control",required:""},null,512),[[l.Jo,o.phone]])]),(0,n.Lk)("div",Ge,[a[7]||(a[7]=(0,n.Lk)("label",null,"備註",-1)),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":a[3]||(a[3]=e=>o.note=e),class:"form-control"},null,512),[[l.Jo,o.note]])]),a[8]||(a[8]=(0,n.Lk)("button",{class:"btn btn-success mt-3",type:"submit"},"送出訂單",-1))],32)])]))}};const Ze=Ye;var ea=Ze;const aa={class:"header_area"},ta={class:"main_menu"},la={class:"navbar navbar-expand-lg navbar-light"},na={class:"container"},sa={class:"navbar-brand logo_h"},ra={class:"relative"},oa=["type"],ia={key:0,class:"text-red-500 text-sm"},ua={class:"text-sm text-gray-500"},ca={class:"text-center text-sm text-gray-500"},da={class:"text-center text-sm text-gray-500"};var va={__name:"LoginForm",setup(e){const a=(0,r.KR)(""),t=(0,r.KR)(""),s=(0,r.KR)(""),o=(0,m.rd)(),c=u(),d="https://backend1140813groupa-eb1e507c23be.herokuapp.com",v=(0,r.KR)(!1),k=()=>{v.value=!v.value},b=async()=>{if(a.value&&t.value)try{const e=await fetch(`${d}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.value,password:t.value})}),l=await e.json();if(console.log("登入回傳資料：",l),console.log("回傳 user：",l.user),!e.ok)throw new Error(l.message||"登入失敗");localStorage.setItem("manager",l.manager),localStorage.setItem("userEmail",l.user.email),localStorage.setItem("userName",l.user.name),c.setAuth({token:l.token,userEmail:l.user.email,userName:l.user.name,isManager:l.manager,user:l.user}),localStorage.setItem("token",l.token),localStorage.setItem("userEmail",l.user.email),localStorage.setItem("userName",l.user.name),localStorage.setItem("isManager",JSON.stringify(l.manager)),localStorage.setItem("user",JSON.stringify(l.user));const n=i();await n.loadFromServer(l.user.id),!0===l.manager?o.push("/manager"):o.push("/")}catch(e){s.value=e.message}else s.value="請填寫所有欄位"};return(e,r)=>{const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("form",{onSubmit:(0,l.D$)(b,["prevent"]),class:"w-full max-w-sm mx-auto bg-white p-6 rounded-xl shadow space-y-4"},[(0,n.Lk)("header",aa,[(0,n.Lk)("div",ta,[(0,n.Lk)("nav",la,[(0,n.Lk)("div",na,[(0,n.Lk)("a",sa,[(0,n.bF)(o,{to:"/"},{default:(0,n.k6)(()=>r[2]||(r[2]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[2]})]),r[3]||(r[3]=(0,n.Lk)("div",{class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},[(0,n.Lk)("ul",{class:"nav navbar-nav menu_nav ml-auto mr-auto"},[(0,n.Lk)("h4",{class:"container mt-2"},"登入")])],-1))])])])]),(0,n.Lk)("div",null,[r[4]||(r[4]=(0,n.Lk)("label",{class:"block text-sm font-medium"},"電子郵件",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email","onUpdate:modelValue":r[0]||(r[0]=e=>a.value=e),class:"w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[l.Jo,a.value]])]),(0,n.Lk)("div",null,[r[5]||(r[5]=(0,n.Lk)("label",{class:"block text-base font-medium leading-[2.5rem]"},"密碼",-1)),(0,n.Lk)("div",ra,[(0,n.bo)((0,n.Lk)("input",{type:v.value?"text":"password","onUpdate:modelValue":r[1]||(r[1]=e=>t.value=e),class:"w-full px-4 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,8,oa),[[l.hp,t.value]]),(0,n.Lk)("span",{onClick:k,class:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 text-base",title:"顯示/隱藏密碼"},(0,p.v_)(v.value?"🙈":"👁️"),1)])]),s.value?((0,n.uX)(),(0,n.CE)("div",ia,(0,p.v_)(s.value),1)):(0,n.Q3)("",!0),r[10]||(r[10]=(0,n.Lk)("button",{type:"submit",class:"nav-item"},"登入",-1)),(0,n.Lk)("p",ua,[(0,n.bF)(o,{to:"/member/reset-password"},{default:(0,n.k6)(()=>r[6]||(r[6]=[(0,n.eW)("忘記密碼？")])),_:1,__:[6]})]),(0,n.Lk)("p",ca,[r[8]||(r[8]=(0,n.eW)(" 還沒有帳號？ ")),(0,n.bF)(o,{to:"/register",class:"text-blue-500 hover:underline"},{default:(0,n.k6)(()=>r[7]||(r[7]=[(0,n.eW)("前往註冊")])),_:1,__:[7]})]),(0,n.Lk)("p",da,[(0,n.bF)(o,{to:"/",class:"text-blue-500 hover:underline"},{default:(0,n.k6)(()=>r[9]||(r[9]=[(0,n.eW)("回首頁")])),_:1,__:[9]})]),r[11]||(r[11]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))],32)}}};const ma=va;var pa=ma;const ka={class:"min-h-screen flex items-center justify-center bg-gray-100"};var ba={__name:"LoginPage",setup(e){return(e,a)=>((0,n.uX)(),(0,n.CE)("div",ka,[(0,n.bF)(pa)]))}};const ga=ba;var La=ga;const fa={class:"header_area"},_a={class:"main_menu"},ha={class:"navbar navbar-expand-lg navbar-light"},ya={class:"container"},Ca={class:"relative"},xa=["type"],wa={class:"relative"},Ea=["type"],Sa={key:0,class:"text-red-500 text-sm"},Fa={class:"text-center text-sm text-gray-500"},Pa={class:"text-center text-sm text-gray-500"};var Xa={__name:"RegisterForm",setup(e){const a=(0,r.KR)(""),t=(0,r.KR)(""),s=(0,r.KR)(""),o=(0,r.KR)(""),i=(0,r.KR)(""),u=(0,m.rd)(),c=(0,r.KR)(!1),d=()=>{c.value=!c.value},v=async()=>{if(a.value&&t.value&&s.value&&o.value)if(s.value===o.value)try{const e="https://backend1140813groupa-eb1e507c23be.herokuapp.com",l=await fetch(`${e}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.value,email:t.value,password:s.value})}),n=await l.json();if(!l.ok)throw new Error(n.message||"註冊失敗");alert("註冊成功"),u.push("/login")}catch(e){i.value=e.message}else i.value="密碼與確認密碼不相符";else i.value="請填寫所有欄位"};return(e,r)=>{const u=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("form",{onSubmit:(0,l.D$)(v,["prevent"]),class:"w-full max-w-md mx-auto bg-white p-6 rounded-xl shadow space-y-4"},[(0,n.Lk)("header",fa,[(0,n.Lk)("div",_a,[(0,n.Lk)("nav",ha,[(0,n.Lk)("div",ya,[(0,n.bF)(u,{to:"/",class:"navbar-brand logo_h"},{default:(0,n.k6)(()=>r[4]||(r[4]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[4]}),r[5]||(r[5]=(0,n.Lk)("div",{class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},[(0,n.Lk)("ul",{class:"nav navbar-nav menu_nav ml-auto mr-auto"},[(0,n.Lk)("h4",{class:"container mt-2"},"註冊")])],-1))])])])]),(0,n.Lk)("div",null,[r[6]||(r[6]=(0,n.Lk)("label",{class:"block text-sm font-medium"},"姓名",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>a.value=e),type:"text",class:"w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[l.Jo,a.value]])]),(0,n.Lk)("div",null,[r[7]||(r[7]=(0,n.Lk)("label",{class:"block text-sm font-medium"},"電子郵件",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>t.value=e),type:"email",class:"w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[l.Jo,t.value]])]),(0,n.Lk)("div",null,[r[8]||(r[8]=(0,n.Lk)("label",{class:"block text-base font-medium leading-[2.5rem]"},"密碼",-1)),(0,n.Lk)("div",Ca,[(0,n.bo)((0,n.Lk)("input",{type:c.value?"text":"password","onUpdate:modelValue":r[2]||(r[2]=e=>s.value=e),class:"w-full px-4 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,8,xa),[[l.hp,s.value]]),(0,n.Lk)("span",{onClick:d,class:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 text-base",title:"顯示/隱藏密碼"},(0,p.v_)(c.value?"🙈":"👁️"),1)])]),(0,n.Lk)("div",null,[r[9]||(r[9]=(0,n.Lk)("label",{class:"block text-base font-medium leading-[2.5rem]"},"確認密碼",-1)),(0,n.Lk)("div",wa,[(0,n.bo)((0,n.Lk)("input",{type:c.value?"text":"password","onUpdate:modelValue":r[3]||(r[3]=e=>o.value=e),class:"w-full px-4 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,8,Ea),[[l.hp,o.value]]),(0,n.Lk)("span",{onClick:d,class:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 text-base",title:"顯示/隱藏密碼"},(0,p.v_)(c.value?"🙈":"👁️"),1)])]),i.value?((0,n.uX)(),(0,n.CE)("div",Sa,(0,p.v_)(i.value),1)):(0,n.Q3)("",!0),r[13]||(r[13]=(0,n.Lk)("button",{type:"submit",class:"nav-item"}," 註冊 ",-1)),(0,n.Lk)("p",Fa,[r[11]||(r[11]=(0,n.eW)(" 已有帳號？ ")),(0,n.bF)(u,{to:"/login",class:"text-blue-500 hover:underline"},{default:(0,n.k6)(()=>r[10]||(r[10]=[(0,n.eW)("前往登入")])),_:1,__:[10]})]),(0,n.Lk)("p",Pa,[(0,n.bF)(u,{to:"/",class:"text-blue-500 hover:underline"},{default:(0,n.k6)(()=>r[12]||(r[12]=[(0,n.eW)("回首頁")])),_:1,__:[12]})]),r[14]||(r[14]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))],32)}}};const Ra=Xa;var Ka=Ra;const qa={class:"min-h-screen flex items-center justify-center bg-gray-100"};var Ia={__name:"RegisterPage",setup(e){return(e,a)=>((0,n.uX)(),(0,n.CE)("div",qa,[(0,n.bF)(Ka)]))}};const Oa=Ia;var Wa=Oa;const ja={class:"header_area"},$a={class:"main_menu"},Na={class:"navbar navbar-expand-lg navbar-light"},Aa={class:"container"},Va={class:"navbar-brand logo_h"},Ja={class:"relative"},Ma=["type"],Ta={class:"relative"},Qa=["type"],Da={key:0,class:"text-red-500 text-sm"},Ua={key:1,class:"text-green-600 text-sm"},Ba={class:"text-center text-sm text-gray-500"};var Ha={__name:"ResetPasswordForm",setup(e){const a=(0,r.KR)(!1),t=()=>{a.value=!a.value},s=(0,r.KR)(""),o=(0,r.KR)(""),i=(0,r.KR)(""),u=(0,r.KR)(""),c=(0,r.KR)(""),d=(0,m.rd)(),v=async()=>{if(u.value="",c.value="",s.value&&o.value&&i.value)if(o.value===i.value)try{const e="https://backend1140813groupa-eb1e507c23be.herokuapp.com",a=await fetch(`${e}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({email:s.value,newPassword:o.value})});if(!a.ok)throw new Error("密碼更新失敗");c.value="密碼更新成功",o.value="",i.value="",alert("密碼更新成功"),d.push("/login")}catch(e){u.value=e.message||"發生錯誤"}else u.value="新密碼與確認密碼不相符";else u.value="請填寫所有欄位"};return(e,r)=>{const d=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("form",{onSubmit:(0,l.D$)(v,["prevent"]),class:"w-full max-w-md mx-auto bg-white p-6 rounded-xl shadow space-y-4"},[(0,n.Lk)("header",ja,[(0,n.Lk)("div",$a,[(0,n.Lk)("nav",Na,[(0,n.Lk)("div",Aa,[(0,n.Lk)("a",Va,[(0,n.bF)(d,{to:"/"},{default:(0,n.k6)(()=>r[3]||(r[3]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[3]})]),r[4]||(r[4]=(0,n.Lk)("div",{class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},[(0,n.Lk)("ul",{class:"nav navbar-nav menu_nav ml-auto mr-auto"},[(0,n.Lk)("h4",{class:"container mt-2"},"忘記密碼？")])],-1))])])])]),(0,n.Lk)("div",null,[r[5]||(r[5]=(0,n.Lk)("label",{class:"block text-sm font-medium"},"電子郵件",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email","onUpdate:modelValue":r[0]||(r[0]=e=>s.value=e),class:"w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[l.Jo,s.value]])]),(0,n.Lk)("div",null,[r[6]||(r[6]=(0,n.Lk)("label",{class:"block text-base font-medium leading-[2.5rem]"},"確認新密碼",-1)),(0,n.Lk)("div",Ja,[(0,n.bo)((0,n.Lk)("input",{type:a.value?"text":"password","onUpdate:modelValue":r[1]||(r[1]=e=>o.value=e),class:"w-full px-4 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,8,Ma),[[l.hp,o.value]]),(0,n.Lk)("span",{onClick:t,class:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 text-base",title:"顯示/隱藏密碼"},(0,p.v_)(a.value?"🙈":"👁️"),1)])]),(0,n.Lk)("div",null,[r[7]||(r[7]=(0,n.Lk)("label",{class:"block text-base font-medium leading-[2.5rem]"},"確認新密碼",-1)),(0,n.Lk)("div",Ta,[(0,n.bo)((0,n.Lk)("input",{type:a.value?"text":"password","onUpdate:modelValue":r[2]||(r[2]=e=>i.value=e),class:"w-full px-4 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,8,Qa),[[l.hp,i.value]]),(0,n.Lk)("span",{onClick:t,class:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 text-base",title:"顯示/隱藏密碼"},(0,p.v_)(a.value?"🙈":"👁️"),1)])]),u.value?((0,n.uX)(),(0,n.CE)("div",Da,(0,p.v_)(u.value),1)):(0,n.Q3)("",!0),c.value?((0,n.uX)(),(0,n.CE)("div",Ua,(0,p.v_)(c.value),1)):(0,n.Q3)("",!0),r[9]||(r[9]=(0,n.Lk)("button",{type:"submit",class:"nav-item"},"確認修改",-1)),(0,n.Lk)("p",Ba,[(0,n.bF)(d,{to:"/",class:"text-blue-500 hover:underline"},{default:(0,n.k6)(()=>r[8]||(r[8]=[(0,n.eW)("回首頁")])),_:1,__:[8]})]),r[10]||(r[10]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))],32)}}};const za=Ha;var Ga=za;const Ya={class:"min-h-screen flex items-center justify-center bg-gray-100"};var Za={__name:"ResetPasswordPage",setup(e){return(e,a)=>((0,n.uX)(),(0,n.CE)("div",Ya,[(0,n.bF)(Ga)]))}};const et=Za;var at=et;const tt={class:"blog-banner-area"},lt={class:"container h-100"},nt={class:"row"},st={class:"blog-banner"},rt={class:"text-center"},ot={"aria-label":"breadcrumb",class:"banner-breadcrumb"},it={class:"breadcrumb"},ut={class:"breadcrumb-item active","aria-current":"page"};function ct(e,a,t,l,s,r){return(0,n.uX)(),(0,n.CE)("section",tt,[(0,n.Lk)("div",lt,[(0,n.Lk)("div",nt,[(0,n.Lk)("div",st,[(0,n.Lk)("div",rt,[(0,n.Lk)("h1",null,(0,p.v_)(t.title),1),(0,n.Lk)("nav",ot,[(0,n.Lk)("ol",it,[a[0]||(a[0]=(0,n.Lk)("li",{class:"breadcrumb-item"},[(0,n.Lk)("a",{href:"/"},"首頁")],-1)),(0,n.Lk)("li",ut,(0,p.v_)(t.subtitle),1)])])])])])])])}var dt={name:"BannerProps",props:{title:{type:String,required:!0},subtitle:{type:String,default:""}}};const vt=(0,b.A)(dt,[["render",ct],["__scopeId","data-v-e3eaa71a"]]);var mt=vt;const pt={class:"lattest-product-area pb-40 category-list"},kt={class:"filter-bar mb-4 d-flex align-items-center gap-3"},bt={class:"row justify-content-center"},gt={class:"card text-center card-product"},Lt={class:"card-product__img"},ft=["src","alt"],_t={class:"card-body"},ht={class:"card-product__title"},yt={class:"card-product__price"},Ct={class:"pagination mt-4 d-flex justify-content-center"},xt=["onClick"];function wt(e,a,t,s,r,o){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("section",pt,[(0,n.Lk)("div",kt,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.selectedCategory=e),class:"form-control w-auto"},a[2]||(a[2]=[(0,n.Fv)('<option value="" data-v-fb73325a>全部分類</option><option value="Candles" data-v-fb73325a>Candles</option><option value="Diffusers" data-v-fb73325a>Diffusers</option><option value="Room Spray" data-v-fb73325a>Room Spray</option><option value="Body Care" data-v-fb73325a>Body Care</option><option value="Perfumes" data-v-fb73325a>Perfumes</option><option value="Kids" data-v-fb73325a>Kids</option>',7)]),512),[[l.u1,r.selectedCategory]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>r.searchQuery=e),type:"text",class:"form-control",placeholder:"輸入商品名稱"},null,512),[[l.Jo,r.searchQuery]])]),(0,n.Lk)("div",bt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedProducts,e=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-6 col-lg-4",key:e.product_id},[(0,n.Lk)("div",gt,[(0,n.bF)(i,{to:`/product/${e.product_id}`,class:"card text-center card-product"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",Lt,[(0,n.Lk)("img",{class:"card-img",src:e.image,alt:e.name},null,8,ft)]),(0,n.Lk)("div",_t,[(0,n.Lk)("p",null,(0,p.v_)(e.category),1),(0,n.Lk)("h4",ht,(0,p.v_)(e.name),1),(0,n.Lk)("p",yt,"$"+(0,p.v_)(e.price),1)])]),_:2},1032,["to"])])]))),128))]),(0,n.Lk)("div",Ct,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.totalPages,e=>((0,n.uX)(),(0,n.CE)("button",{key:e,class:(0,p.C4)(["btn btn-outline-dark mx-1",{active:r.currentPage===e}]),onClick:a=>r.currentPage=e},(0,p.v_)(e),11,xt))),128))])])}var Et={name:"ProductGrid",data(){return{products:[],selectedCategory:"",searchQuery:"",currentPage:1,itemsPerPage:9}},computed:{filteredProducts(){return this.products.filter(e=>{const a=""===this.selectedCategory||e.category===this.selectedCategory,t=e.name.toString().toLowerCase().includes(this.searchQuery.toLowerCase());return a&&t})},totalPages(){return Math.ceil(this.filteredProducts.length/this.itemsPerPage)},paginatedProducts(){const e=(this.currentPage-1)*this.itemsPerPage;return this.filteredProducts.slice(e,e+this.itemsPerPage)}},watch:{selectedCategory(){this.currentPage=1},searchQuery(){this.currentPage=1}},mounted(){const e="https://backend1140813groupa-eb1e507c23be.herokuapp.com";fetch(`${e}/api/products`).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{this.products=e}).catch(e=>{console.error("無法載入商品資料:",e)})}};const St=(0,b.A)(Et,[["render",wt],["__scopeId","data-v-fb73325a"]]);var Ft=St;const Pt={class:"header_area"},Xt={class:"main_menu"},Rt={class:"navbar navbar-expand-lg navbar-light"},Kt={class:"container"},qt={class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},It={class:"nav navbar-nav menu_nav ml-auto mr-auto"},Ot={class:"nav-item active"},Wt={class:"nav-item active"},jt={class:"nav-shop"},$t={class:"nav-item"},Nt={class:"nav-shop__circle"},At={class:"nav-item"},Vt={key:0,class:"nav navbar-nav menu_nav"},Jt={class:"nav-item"},Mt={class:"nav-link"},Tt={class:"nav-item"},Qt={class:"nav-item mt-10"},Dt={key:1,class:"nav navbar-nav menu_nav"},Ut={class:"nav-item active"},Bt={class:"container"},Ht={class:"row justify-content-center"},zt={class:"col-xl-9 col-lg-8 col-md-7"},Gt={key:0,class:"cart-popup"},Yt={class:"cart-popup-inner"},Zt={class:"d-flex justify-content-between align-items-center mb-2"},el=["src"],al={class:"cart-item-info"},tl={class:"mb-1"},ll={class:"mb-0 text-muted"},nl={class:"mt-2"},sl={class:"d-flex justify-content-between mt-3"};var rl={__name:"CategoryView",setup(e){const a=i(),t=(0,r.KR)(!1),s=(0,r.KR)(null),o=u();o.initFromLocal();const c=(0,n.EW)(()=>!!o.token),d=(0,n.EW)(()=>o.userName||o.userEmail?.split("@")[0]||"用戶");function v(){c.value?t.value=!t.value:alert("請先登入")}function m(){s.value&&s.value.scrollIntoView({behavior:"smooth"})}return(e,i)=>{const u=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("header",Pt,[(0,n.Lk)("div",Xt,[(0,n.Lk)("nav",Rt,[(0,n.Lk)("div",Kt,[(0,n.bF)(u,{to:"/",class:"navbar-brand logo_h"},{default:(0,n.k6)(()=>i[2]||(i[2]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[2]}),i[12]||(i[12]=(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent"},[(0,n.Lk)("span",{class:"icon-bar"}),(0,n.Lk)("span",{class:"icon-bar"}),(0,n.Lk)("span",{class:"icon-bar"})],-1)),(0,n.Lk)("div",qt,[(0,n.Lk)("ul",It,[(0,n.Lk)("li",Ot,[(0,n.bF)(u,{to:"/",class:"nav-link"},{default:(0,n.k6)(()=>i[3]||(i[3]=[(0,n.eW)("Home")])),_:1,__:[3]})]),(0,n.Lk)("li",Wt,[(0,n.bF)(u,{to:"/shop",class:"nav-link"},{default:(0,n.k6)(()=>i[4]||(i[4]=[(0,n.eW)("Shop")])),_:1,__:[4]})])]),(0,n.Lk)("ul",jt,[(0,n.Lk)("li",$t,[(0,n.Lk)("button",{onClick:v},[i[5]||(i[5]=(0,n.Lk)("i",{class:"ti-shopping-cart"},null,-1)),(0,n.Lk)("span",Nt,(0,p.v_)((0,r.R1)(a).items.length),1)])]),(0,n.Lk)("li",At,[(0,n.Lk)("a",{class:"button button-header",href:"#",onClick:(0,l.D$)(m,["prevent"])},"Buy Now")])]),c.value?((0,n.uX)(),(0,n.CE)("ul",Vt,[(0,n.Lk)("li",Jt,[(0,n.Lk)("span",Mt,"您好，"+(0,p.v_)(d.value),1)]),i[7]||(i[7]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",Tt,[(0,n.bF)(u,{to:"/member/profile",class:"nav-link"},{default:(0,n.k6)(()=>i[6]||(i[6]=[(0,n.eW)("會員中心")])),_:1,__:[6]})]),i[8]||(i[8]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",Qt,[(0,n.Lk)("a",{href:"#",class:"nav-link",onClick:i[0]||(i[0]=(...e)=>(0,r.R1)(o).logout&&(0,r.R1)(o).logout(...e))},"登出")])])):((0,n.uX)(),(0,n.CE)("ul",Dt,[(0,n.Lk)("li",Ut,[(0,n.bF)(u,{to:"/login",class:"nav-link"},{default:(0,n.k6)(()=>i[9]||(i[9]=[(0,n.eW)("登入")])),_:1,__:[9]}),i[11]||(i[11]=(0,n.Lk)("span",{class:"mx-1 text-gray-200"},"|",-1)),(0,n.bF)(u,{to:"/register",class:"nav-link"},{default:(0,n.k6)(()=>i[10]||(i[10]=[(0,n.eW)("註冊")])),_:1,__:[10]})])]))])])])])]),(0,n.bF)(mt,{title:"Shop",subtitle:"Home - Shop"}),(0,n.Lk)("section",{ref_key:"trendingSection",ref:s,class:"section-margin--small mb-5"},[(0,n.Lk)("div",Bt,[(0,n.Lk)("div",Ht,[(0,n.Lk)("div",zt,[(0,n.bF)(Ft)])])])],512),t.value?((0,n.uX)(),(0,n.CE)("div",Gt,[(0,n.Lk)("div",Yt,[(0,n.Lk)("div",Zt,[i[14]||(i[14]=(0,n.Lk)("h5",null,"🛒 購物車",-1)),(0,n.bF)(u,{to:"/cart",class:"btn btn-sm btn-info"},{default:(0,n.k6)(()=>i[13]||(i[13]=[(0,n.eW)("管理購物車")])),_:1,__:[13]})]),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(a).items,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"cart-item"},[(0,n.Lk)("img",{src:e.image,alt:"商品圖片",class:"cart-item-image"},null,8,el),(0,n.Lk)("div",al,[(0,n.Lk)("p",tl,(0,p.v_)(e.name)+" × "+(0,p.v_)(e.quantity),1),(0,n.Lk)("p",ll,"$"+(0,p.v_)((e.price*e.quantity).toFixed(2)),1)])]))),128))]),(0,n.Lk)("p",nl,[i[15]||(i[15]=(0,n.Lk)("strong",null,"總金額：",-1)),(0,n.eW)(" $"+(0,p.v_)((0,r.R1)(a).totalPrice.toFixed(2)),1)]),(0,n.Lk)("div",sl,[(0,n.Lk)("button",{class:"btn btn-sm btn-secondary",onClick:i[1]||(i[1]=e=>t.value=!1)},"關閉"),(0,n.bF)(u,{to:"/checkout",class:"btn btn-sm btn-success"},{default:(0,n.k6)(()=>i[16]||(i[16]=[(0,n.eW)("前往結帳")])),_:1,__:[16]})])])])):(0,n.Q3)("",!0),i[17]||(i[17]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))])}}};const ol=(0,b.A)(rl,[["__scopeId","data-v-4d78adc6"]]);var il=ol;const ul={class:"product_image_area"},cl={class:"container"},dl={class:"row s_product_inner"},vl={class:"col-lg-6"},ml={class:"owl-theme s_Product_carousel"},pl={class:"single-prd-item"},kl=["src","alt"],bl={class:"col-lg-5 offset-lg-1"},gl={key:0,class:"s_product_text"},Ll={class:"list"},fl={key:0,class:"product_count"},_l={class:"input-group",style:{width:"150px"}};var hl={__name:"ProductView",setup(e){const a="https://backend1140813groupa-eb1e507c23be.herokuapp.com",t=u(),s=(0,n.EW)(()=>!!t.token&&!!t.userEmail),o=(0,m.lq)(),c=i(),d=(0,r.KR)(1),v=(0,r.KR)({}),k=(0,r.KR)(!1);function b(){s.value?!v.value||!d.value||d.value<=0?alert("請輸入有效數量"):(c.individualaddItem({id:v.value.id,name:v.value.name,price:v.value.price,image:v.value.image,quantity:d.value}),alert("商品已加入購物車！"),k.value=!0):alert("請先登入")}return(0,n.sV)(async()=>{const e=o.params.id,t=await fetch(`${a}/api/products/${e}`),l=await t.json();v.value={id:l.product_id,name:l.name,price:l.price,image:l.image,category:l.category,stock:l.stock??10}}),(e,a)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",null,[(0,n.bF)(Oe),(0,n.bF)(mt,{title:"Product",subtitle:"Home - Product"}),(0,n.Lk)("div",ul,[(0,n.Lk)("div",cl,[(0,n.Lk)("div",dl,[(0,n.Lk)("div",vl,[(0,n.Lk)("div",ml,[(0,n.Lk)("div",pl,[v.value?.image?((0,n.uX)(),(0,n.CE)("img",{key:0,class:"img-fluid",src:v.value.image,alt:v.value.name},null,8,kl)):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",bl,[v.value?((0,n.uX)(),(0,n.CE)("div",gl,[(0,n.Lk)("h3",null,(0,p.v_)(v.value.name),1),(0,n.Lk)("h2",null,"$"+(0,p.v_)(v.value.price),1),(0,n.Lk)("ul",Ll,[(0,n.Lk)("li",null,[a[1]||(a[1]=(0,n.Lk)("span",null,"Category",-1)),(0,n.eW)(" : "+(0,p.v_)(v.value.category),1)]),(0,n.Lk)("li",null,[a[2]||(a[2]=(0,n.Lk)("span",null,"Availibility",-1)),(0,n.eW)(" : "+(0,p.v_)(v.value.stock>0?"In Stock":"Out of Stock"),1)])]),v.value?((0,n.uX)(),(0,n.CE)("div",fl,[a[3]||(a[3]=(0,n.Lk)("label",{for:"qty"},"Quantity:",-1)),(0,n.Lk)("div",_l,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control text-center","onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),min:"1"},null,512),[[l.Jo,d.value,void 0,{number:!0}]])]),(0,n.Lk)("button",{class:"button primary-btn",onClick:b},"Add to Cart")])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)])])])])]),a[4]||(a[4]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))],64))}};const yl=hl;var Cl=yl;const xl={class:"table table-bordered"},wl={class:"table"},El={key:0};var Sl={__name:"MemberOrdersTable",setup(e){const a=(0,r.KR)([]),t="https://backend1140813groupa-eb1e507c23be.herokuapp.com";return(0,n.sV)(async()=>{const e=await fetch(`${t}/api/users`);a.value=await e.json()}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",null,[t[3]||(t[3]=(0,n.Lk)("h4",null,"會員資料與訂單",-1)),(0,n.Lk)("table",xl,[t[2]||(t[2]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"會員ID"),(0,n.Lk)("th",null,"姓名"),(0,n.Lk)("th",null,"Email"),(0,n.Lk)("th",null,"註冊時間"),(0,n.Lk)("th",null,"訂單")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,p.v_)(e.id),1),(0,n.Lk)("td",null,(0,p.v_)(e.name),1),(0,n.Lk)("td",null,(0,p.v_)(e.email),1),(0,n.Lk)("td",null,(0,p.v_)(e.registered),1),(0,n.Lk)("td",null,[(0,n.Lk)("table",wl,[t[1]||(t[1]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"訂單編號"),(0,n.Lk)("th",null,"金額"),(0,n.Lk)("th",null,"狀態")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.orders,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,p.v_)(e.id),1),(0,n.Lk)("td",null,(0,p.v_)(e.amount),1),(0,n.Lk)("td",null,(0,p.v_)(e.status),1)]))),128)),0===e.orders.length?((0,n.uX)(),(0,n.CE)("tr",El,t[0]||(t[0]=[(0,n.Lk)("td",{colspan:"3"},"無訂單",-1)]))):(0,n.Q3)("",!0)])])])]))),128))])])]))}};const Fl=Sl;var Pl=Fl;const Xl={class:"table table-bordered"},Rl=["src"];var Kl={__name:"ProductInventory",setup(e){const a=(0,r.KR)([]);return(0,n.sV)(async()=>{const e="https://backend1140813groupa-eb1e507c23be.herokuapp.com",t=await fetch(`${e}/api/products`);a.value=await t.json()}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",null,[t[1]||(t[1]=(0,n.Lk)("h4",null,"商品庫存查詢",-1)),(0,n.Lk)("table",Xl,[t[0]||(t[0]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"商品編號"),(0,n.Lk)("th",null,"名稱"),(0,n.Lk)("th",null,"分類"),(0,n.Lk)("th",null,"庫存"),(0,n.Lk)("th",null,"價格"),(0,n.Lk)("th",null,"圖片")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,p.v_)(e.product_id),1),(0,n.Lk)("td",null,(0,p.v_)(e.name),1),(0,n.Lk)("td",null,(0,p.v_)(e.category),1),(0,n.Lk)("td",null,(0,p.v_)(e.stock),1),(0,n.Lk)("td",null,(0,p.v_)(e.price),1),(0,n.Lk)("td",null,[(0,n.Lk)("img",{src:e.image,alt:"商品圖片",style:{height:"80px"}},null,8,Rl)])]))),128))])])]))}};const ql=Kl;var Il=ql;const Ol={class:"form-group"},Wl={class:"form-group"},jl={class:"form-group"},$l={class:"form-group"},Nl={class:"form-group"};var Al={__name:"ProductForm",setup(e){const a="https://backend1140813groupa-eb1e507c23be.herokuapp.com",t=(0,r.KR)({name:"",category:"",price:0,stock:0}),s=(0,r.KR)(null);function o(e){s.value=e.target.files[0]}async function i(){const e=new FormData;for(const a in t.value)e.append(a,t.value[a]);e.append("image",s.value);const l=await fetch(`${a}/api/products`,{method:"POST",body:e}),n=await l.json();alert(n.message)}return(e,a)=>((0,n.uX)(),(0,n.CE)("div",null,[a[10]||(a[10]=(0,n.Lk)("h4",null,"商品上架",-1)),(0,n.Lk)("form",{onSubmit:(0,l.D$)(i,["prevent"])},[(0,n.Lk)("div",Ol,[a[4]||(a[4]=(0,n.Lk)("label",null,"商品名稱",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.name=e),type:"text",class:"form-control",required:""},null,512),[[l.Jo,t.value.name]])]),(0,n.Lk)("div",Wl,[a[5]||(a[5]=(0,n.Lk)("label",null,"分類",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>t.value.category=e),type:"text",class:"form-control",required:""},null,512),[[l.Jo,t.value.category]])]),(0,n.Lk)("div",jl,[a[6]||(a[6]=(0,n.Lk)("label",null,"價格",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>t.value.price=e),type:"number",class:"form-control",required:""},null,512),[[l.Jo,t.value.price,void 0,{number:!0}]])]),(0,n.Lk)("div",$l,[a[7]||(a[7]=(0,n.Lk)("label",null,"庫存數量",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>t.value.stock=e),type:"number",class:"form-control",required:""},null,512),[[l.Jo,t.value.stock,void 0,{number:!0}]])]),(0,n.Lk)("div",Nl,[a[8]||(a[8]=(0,n.Lk)("label",null,"上傳圖片",-1)),(0,n.Lk)("input",{type:"file",class:"form-control-file",onChange:o,required:""},null,32)]),a[9]||(a[9]=(0,n.Lk)("button",{type:"submit",class:"btn btn-primary"},"送出",-1))],32)]))}};const Vl=Al;var Jl=Vl;const Ml={class:"header_area"},Tl={class:"main_menu"},Ql={class:"navbar navbar-expand-lg navbar-light"},Dl={class:"container"},Ul={class:"navbar-brand logo_h"},Bl={class:"admin-container"},Hl={class:"nav nav-tabs"},zl=["onClick"];var Gl={__name:"ManagerPage",setup(e){const a=(0,r.KR)("memberOrders"),t=[{id:"memberOrders",label:"會員與訂單管理"},{id:"products",label:"商品庫存查詢"},{id:"addProduct",label:"商品上架"}],s=(0,n.EW)(()=>{switch(a.value){case"memberOrders":return Pl;case"products":return Il;case"addProduct":return Jl}});return(e,r)=>{const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("header",Ml,[(0,n.Lk)("div",Tl,[(0,n.Lk)("nav",Ql,[(0,n.Lk)("div",Dl,[(0,n.Lk)("a",Ul,[(0,n.bF)(o,{to:"/"},{default:(0,n.k6)(()=>r[0]||(r[0]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[0]})]),r[1]||(r[1]=(0,n.Lk)("div",{class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},[(0,n.Lk)("ul",{class:"nav navbar-nav menu_nav ml-auto mr-auto"},[(0,n.Lk)("h4",{class:"container mt-2"},"登入")])],-1))])])])]),(0,n.Lk)("div",Bl,[r[2]||(r[2]=(0,n.Lk)("h2",null,"後台管理系統",-1)),(0,n.Lk)("ul",Hl,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(t,e=>(0,n.Lk)("li",{class:"nav-item",key:e.id},[(0,n.Lk)("a",{class:(0,p.C4)(["nav-link",{active:a.value===e.id}]),href:"#",onClick:(0,l.D$)(t=>a.value=e.id,["prevent"])},(0,p.v_)(e.label),11,zl)])),64))]),((0,n.uX)(),(0,n.Wv)((0,n.$y)(s.value)))]),r[3]||(r[3]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))],64)}}};const Yl=Gl;var Zl=Yl;const en={class:"navbar-brand logo_h"},an={class:"table table-bordered"},tn={key:0},ln={key:1},nn={key:0,class:"table table-bordered"},sn={key:1};var rn={__name:"MemberTable",setup(e){const a=u(),t=i(),l=(0,m.rd)(),s=(0,r.KR)([]),o=()=>{a.logout(),t.clearCart(),l.push("/")},c=(0,n.EW)(()=>a.user),d=(0,n.EW)(()=>a.token),v="https://backend1140813groupa-eb1e507c23be.herokuapp.com";return(0,n.sV)(async()=>{if(a.user?.id){const e=await fetch(`${v}/api/orders/${a.user.id}`);s.value=await e.json()}}),(e,a)=>{const t=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",null,[(0,n.Lk)("a",en,[(0,n.bF)(t,{to:"/"},{default:(0,n.k6)(()=>a[0]||(a[0]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[0]})]),(0,n.Lk)("button",{class:"btn btn-danger mb-3",onClick:o},"登出"),a[3]||(a[3]=(0,n.Lk)("h4",null,"會員資料",-1)),(0,n.Lk)("table",an,[a[2]||(a[2]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"ID"),(0,n.Lk)("th",null,"姓名"),(0,n.Lk)("th",null,"Email"),(0,n.Lk)("th",null,"註冊時間")])],-1)),(0,n.Lk)("tbody",null,[d.value&&c.value?((0,n.uX)(),(0,n.CE)("tr",tn,[(0,n.Lk)("td",null,(0,p.v_)(c.value.id),1),(0,n.Lk)("td",null,(0,p.v_)(c.value.name),1),(0,n.Lk)("td",null,(0,p.v_)(c.value.email),1),(0,n.Lk)("td",null,(0,p.v_)(c.value.registered),1)])):((0,n.uX)(),(0,n.CE)("tr",ln,a[1]||(a[1]=[(0,n.Lk)("td",{colspan:"5"},"尚未登入",-1)])))])])]),a[5]||(a[5]=(0,n.Lk)("h4",null,"購買紀錄",-1)),s.value.length?((0,n.uX)(),(0,n.CE)("table",nn,[a[4]||(a[4]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"訂單編號"),(0,n.Lk)("th",null,"金額"),(0,n.Lk)("th",null,"狀態"),(0,n.Lk)("th",null,"日期"),(0,n.Lk)("th",null,"商品明細")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.value,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.order_id},[(0,n.Lk)("td",null,(0,p.v_)(e.order_id),1),(0,n.Lk)("td",null,"$"+(0,p.v_)(e.amount),1),(0,n.Lk)("td",null,(0,p.v_)(e.status),1),(0,n.Lk)("td",null,(0,p.v_)(new Date(e.created_at).toLocaleString()),1),(0,n.Lk)("td",null,[(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.items,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.product_id},(0,p.v_)(e.product_id)+" × "+(0,p.v_)(e.quantity)+"（單價: $"+(0,p.v_)(e.price)+"） ",1))),128))])])]))),128))])])):((0,n.uX)(),(0,n.CE)("p",sn,"尚無購買紀錄"))],64)}}};const on=rn;var un=on;const cn={class:"min-h-screen flex items-center justify-center bg-gray-100"};var dn={__name:"ProfilePage",setup(e){return(e,a)=>((0,n.uX)(),(0,n.CE)("div",cn,[(0,n.bF)(un)]))}};const vn=dn;var mn=vn;const pn=[{path:"/",name:"Home",component:ne},{path:"/login",component:La},{path:"/register",component:Wa},{path:"/shop",name:"Shop",component:il},{path:"/product/:id",name:"Product",component:Cl},{path:"/member/reset-password",component:at},{path:"/cart",name:"Cart",component:Qe},{path:"/checkout",name:"Checkout",component:ea},{path:"/manager",component:Zl,meta:{requiresManager:!0}},{path:"/member/profile",component:mn}],kn=(0,m.aE)({history:(0,m.LA)(),routes:pn});kn.beforeEach((e,a,t)=>{const l="true"===localStorage.getItem("manager");if(e.meta.requiresManager&&!l)return t("/");t()});var bn=kn,gn=t(5827);const Ln=(0,l.Ef)(v),fn=(0,s.Ey)();fn.use(gn.A),Ln.use(fn),Ln.use((0,s.Ey)()),Ln.use(bn),Ln.mount("#app");const _n=u();_n.initFromLocal()}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var s=a[l]={exports:{}};return e[l].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,s){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],s=e[c][2];for(var o=!0,i=0;i<l.length;i++)(!1&s||r>=s)&&Object.keys(t.O).every(function(e){return t.O[e](l[i])})?l.splice(i--,1):(o=!1,s<r&&(r=s));if(o){e.splice(c--,1);var u=n();void 0!==u&&(a=u)}}return a}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[l,n,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,s,r=l[0],o=l[1],i=l[2],u=0;if(r.some(function(a){return 0!==e[a]})){for(n in o)t.o(o,n)&&(t.m[n]=o[n]);if(i)var c=i(t)}for(a&&a(l);u<r.length;u++)s=r[u],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(c)},l=self["webpackChunkaroma_shop"]=self["webpackChunkaroma_shop"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],function(){return t(972)});l=t.O(l)})();
//# sourceMappingURL=app.902a144a.js.map