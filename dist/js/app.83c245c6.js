(function(){"use strict";var e={8709:function(e,a,t){var l=t(5130),n=t(6768),s=t(2261),r=t(144);t(4114),t(8111),t(2489),t(116),t(1701),t(8237);const o="https://backend1140813groupa-eb1e507c23be.herokuapp.com",i=(0,s.nY)("cart",{state:()=>({items:[]}),actions:{async clearCart(){const e=u();this.items=[],e.user?.id&&await fetch(`${o}/api/cart/clear`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.user.id})})},async addItem(e){const a=this.items.find(a=>a.id===e.id);a?a.quantity+=1:this.items.push({...e,quantity:1}),console.log("目前購物車：",JSON.stringify(this.items));const t=u();t.user?.id&&await fetch(`${o}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.user.id,product_id:e.id,quantity:1})})},async individualaddItem(e){const a=this.items.find(a=>a.id===e.id);a?a.quantity+=e.quantity:this.items.push({...e,quantity:e.quantity}),console.log("目前購物車：",JSON.stringify(this.items));const t=u();t.user?.id&&await fetch(`${o}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.user.id,product_id:e.id,quantity:e.quantity})})},async updateQuantity(e,a){const t=this.items.find(a=>a.id===e);t&&(t.quantity=a);const l=u();l.user?.id&&await fetch(`${o}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:l.user.id,product_id:e,quantity:a})})},async removeItem(e){this.items=this.items.filter(a=>a.id!==e);const a=u();a.user?.id&&await fetch(`${o}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a.user.id,product_id:e,quantity:0})})},async loadFromServer(e){try{const a=await fetch(`${o}/api/cart?user_id=${e}`),t=await a.json(),l=await fetch(`${o}/api/products`),n=await l.json();this.items=Array.isArray(t.items)?t.items.map(e=>{const a=n.find(a=>a.product_id===e.product_id);return{id:e.product_id,name:a?.name||"",price:a?.price||0,image:a?.image||"",quantity:e.quantity}}):[]}catch(a){console.error("❌ 載入購物車失敗",a),this.items=[]}}},getters:{totalPrice:e=>e.items.reduce((e,a)=>e+a.price*a.quantity,0),totalQuantity:e=>e.items.reduce((e,a)=>e+a.quantity,0)},persist:!0}),u=(0,s.nY)("auth",()=>{const e=(0,r.KR)(""),a=(0,r.KR)(""),t=(0,r.KR)(""),l=(0,r.KR)(!1),n=(0,r.KR)(null);function s({token:s,userEmail:r,userName:o,isManager:i,user:u}){e.value=s,a.value=r,t.value=o,l.value=i,n.value=u}function o(){e.value="",a.value="",t.value="",l.value=!1,n.value=null,localStorage.clear();const s=i();s.clearCart(),localStorage.removeItem("pinia-cart"),localStorage.removeItem("userEmail"),localStorage.removeItem("token")}function u(){e.value=localStorage.getItem("token")||"",a.value=localStorage.getItem("userEmail")||"",t.value=localStorage.getItem("userName")||"",l.value=JSON.parse(localStorage.getItem("isManager")||"false");const s=localStorage.getItem("user");n.value=s?JSON.parse(s):null}return{token:e,userEmail:a,userName:t,isManager:l,user:n,setAuth:s,logout:o,initFromLocal:u}});var c={__name:"App",setup(e){const a=u(),t=i();return(0,n.sV)(()=>{a.initFromLocal(),a.user?.id&&t.loadFromServer(a.user.id)}),(0,n.wB)(()=>a.user?.id,e=>{e&&t.loadFromServer(e)}),(e,a)=>{const t=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(t)}}};const d=c;var v=d,m=t(1387),k=t(4232);const p={class:"header_area"},b={class:"main_menu"},g={class:"navbar navbar-expand-lg navbar-light"},L={class:"container"},f={class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},h={class:"nav navbar-nav menu_nav ml-auto mr-auto"},_={class:"nav-item active"},y={class:"nav-shop"},x={class:"nav-item"},C={class:"nav-shop__circle"},w={class:"nav-item"},E={key:0,class:"nav navbar-nav menu_nav"},S={class:"nav-item"},F={class:"nav-link"},P={class:"nav-item"},X={class:"nav-item mt-10"},R={key:1,class:"nav navbar-nav menu_nav"},q={class:"nav-item active"},K={class:"container"},O={class:"row"},I={class:"card text-center card-product"},W={class:"card-product__img"},$=["src","alt"],j={class:"card-body"},N={class:"card-product__title"},A={class:"card-product__price"},V=["onClick"],J={key:0,class:"cart-popup"},T={class:"cart-popup-inner"},M={class:"d-flex justify-content-between align-items-center mb-2"},Q=["src"],D={class:"cart-item-info"},U={class:"mb-1"},B={class:"mb-0 text-muted"},H={class:"mt-2"},G={class:"d-flex justify-content-between mt-3"};var Y={__name:"Home",setup(e){const a=u(),t=i(),s=(0,r.KR)(!1),o=(0,r.KR)(null),c=(0,n.EW)(()=>!!a.token&&!!a.userEmail),d=(0,n.EW)(()=>a.userName||a.userEmail),v=[{id:"product_0043",name:"Premium Reed Diffuser 3000 ML - Bulgarian Rose & Oud",price:1350,category:"Diffusers",image:"/aroma/img/NewProducts/Premium_Reed_Diffuser_3000_ML_-_Bulgarian_Rose_&_O.jpg"},{id:"product_0073",name:"Omani lime lipbalm",price:68,category:"Body Care",image:"/aroma/img/NewProducts/Omani_lime_lipbalm.jpg"},{id:"product_0017",name:"3 wick XL Candle - Velvet Wood",price:265,category:"Candles",image:"/aroma/img/NewProducts/3_wick_XL_Candle_-_Velvet_Wood.jpg"},{id:"product_0024",name:"Omani Frankincense",price:142,category:"Diffusers",image:"/aroma/img/NewProducts/Omani_Frankincense.jpg"},{id:"product_0089",name:"Minois bubble bath",price:125,category:"Kids",image:"/aroma/img/NewProducts/Minois_bubble_bath.jpg"},{id:"product_0079",name:"Dukhoon No.2",price:105,category:"Mukhallat",image:"/aroma/img/NewProducts/Dukhoon_No.2.jpg"},{id:"product_0083",name:"PMLM04",price:262,category:"Perfumes",image:"/aroma/img/NewProducts/PMLM04.jpg"},{id:"product_0052",name:"All Over Spray Rose",price:220,category:"Room Spray",image:"/aroma/img/NewProducts/All_Over_Spray_Rose.jpg"}];function m(e){t.addItem({...e,quantity:1}),s.value=!0}function Y(){o.value&&o.value.scrollIntoView({behavior:"smooth"})}function z(){c.value?s.value=!s.value:alert("請先登入")}function Z(e){c.value?m(e):alert("請先登入")}return(e,i)=>{const u=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("header",p,[(0,n.Lk)("div",b,[(0,n.Lk)("nav",g,[(0,n.Lk)("div",L,[i[11]||(i[11]=(0,n.Fv)('<a class="navbar-brand logo_h" href="#" data-v-8890f7ce><img src="/aroma/img/logo.png" alt="" data-v-8890f7ce></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" data-v-8890f7ce><span class="icon-bar" data-v-8890f7ce></span><span class="icon-bar" data-v-8890f7ce></span><span class="icon-bar" data-v-8890f7ce></span></button>',2)),(0,n.Lk)("div",f,[(0,n.Lk)("ul",h,[i[3]||(i[3]=(0,n.Lk)("li",{class:"nav-item active"},[(0,n.Lk)("a",{class:"nav-link",href:"#"},"Home")],-1)),(0,n.Lk)("li",_,[(0,n.bF)(u,{to:"/shop",class:"nav-link"},{default:(0,n.k6)(()=>i[2]||(i[2]=[(0,n.eW)("Shop")])),_:1,__:[2]})])]),(0,n.Lk)("ul",y,[(0,n.Lk)("li",x,[(0,n.Lk)("button",{onClick:z},[i[4]||(i[4]=(0,n.Lk)("i",{class:"ti-shopping-cart"},null,-1)),(0,n.Lk)("span",C,(0,k.v_)((0,r.R1)(t).items.length),1)])]),(0,n.Lk)("li",w,[(0,n.Lk)("a",{class:"button button-header",href:"#",onClick:(0,l.D$)(Y,["prevent"])},"Buy Now")])]),c.value?((0,n.uX)(),(0,n.CE)("ul",E,[(0,n.Lk)("li",S,[(0,n.Lk)("span",F,"您好，"+(0,k.v_)(d.value),1)]),i[6]||(i[6]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",P,[(0,n.bF)(u,{to:"/member/profile",class:"nav-link"},{default:(0,n.k6)(()=>i[5]||(i[5]=[(0,n.eW)("會員中心")])),_:1,__:[5]})]),i[7]||(i[7]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",X,[(0,n.Lk)("a",{href:"#",class:"nav-link",onClick:i[0]||(i[0]=(...e)=>(0,r.R1)(a).logout&&(0,r.R1)(a).logout(...e))},"登出")])])):((0,n.uX)(),(0,n.CE)("ul",R,[(0,n.Lk)("li",q,[(0,n.bF)(u,{to:"/login",class:"nav-link"},{default:(0,n.k6)(()=>i[8]||(i[8]=[(0,n.eW)("登入")])),_:1,__:[8]}),i[10]||(i[10]=(0,n.Lk)("span",{class:"mx-1 text-gray-200"},"|",-1)),(0,n.bF)(u,{to:"/register",class:"nav-link"},{default:(0,n.k6)(()=>i[9]||(i[9]=[(0,n.eW)("註冊")])),_:1,__:[9]})])]))])])])])]),i[17]||(i[17]=(0,n.Fv)('<section class="hero-banner" data-v-8890f7ce><div class="container" data-v-8890f7ce><div class="row no-gutters align-items-center pt-60px" data-v-8890f7ce><div class="col-5 d-none d-sm-block" data-v-8890f7ce><div class="hero-banner__img" data-v-8890f7ce><img class="img-fluid" src="/aroma/img/home/hero-banner.png" alt="" data-v-8890f7ce></div></div><div class="col-sm-7 col-lg-6 offset-lg-1 pl-4 pl-md-5 pl-lg-0" data-v-8890f7ce><div class="hero-banner__content" data-v-8890f7ce><h4 data-v-8890f7ce>Shop is fun</h4><h1 data-v-8890f7ce>Browse Our Premium Product</h1><p data-v-8890f7ce>Us which over of signs divide dominion deep fill bring...</p></div></div></div></div></section>',1)),(0,n.Lk)("section",{ref_key:"trendingSection",ref:o,class:"section-margin calc-60px"},[(0,n.Lk)("div",K,[i[12]||(i[12]=(0,n.Lk)("div",{class:"section-intro pb-60px"},[(0,n.Lk)("p",null,"Popular Item in the market"),(0,n.Lk)("h2",null,[(0,n.eW)("Trending "),(0,n.Lk)("span",{class:"section-intro__style"},"Product")])],-1)),(0,n.Lk)("div",O,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(v,e=>(0,n.Lk)("div",{key:e.id,class:"col-md-6 col-lg-4 col-xl-3"},[(0,n.Lk)("div",I,[(0,n.bF)(u,{to:`/product/${e.id}`},{default:(0,n.k6)(()=>[(0,n.Lk)("div",W,[(0,n.Lk)("img",{class:"card-img",src:e.image,alt:e.name},null,8,$)])]),_:2},1032,["to"]),(0,n.Lk)("div",j,[(0,n.Lk)("p",null,(0,k.v_)(e.category),1),(0,n.Lk)("h4",N,(0,k.v_)(e.name),1),(0,n.Lk)("p",A,"$"+(0,k.v_)(e.price),1),(0,n.Lk)("button",{class:"btn btn-sm btn-primary mt-2",onClick:a=>Z(e)}," 🛒 加入購物車 ",8,V)])])])),64))])])],512),s.value?((0,n.uX)(),(0,n.CE)("div",J,[(0,n.Lk)("div",T,[(0,n.Lk)("div",M,[i[14]||(i[14]=(0,n.Lk)("h5",null,"🛒 購物車",-1)),(0,n.bF)(u,{to:"/cart",class:"btn btn-sm btn-info"},{default:(0,n.k6)(()=>i[13]||(i[13]=[(0,n.eW)("管理購物車")])),_:1,__:[13]})]),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(t).items,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"cart-item"},[(0,n.Lk)("img",{src:e.image,alt:"商品圖片",class:"cart-item-image"},null,8,Q),(0,n.Lk)("div",D,[(0,n.Lk)("p",U,(0,k.v_)(e.name)+" × "+(0,k.v_)(e.quantity),1),(0,n.Lk)("p",B,"$"+(0,k.v_)((e.price*e.quantity).toFixed(2)),1)])]))),128))]),(0,n.Lk)("p",H,[i[15]||(i[15]=(0,n.Lk)("strong",null,"總金額：",-1)),(0,n.eW)(" $"+(0,k.v_)((0,r.R1)(t).totalPrice.toFixed(2)),1)]),(0,n.Lk)("div",G,[(0,n.Lk)("button",{class:"btn btn-sm btn-secondary",onClick:i[1]||(i[1]=e=>s.value=!1)},"關閉"),(0,n.bF)(u,{to:"/checkout",class:"btn btn-sm btn-success"},{default:(0,n.k6)(()=>i[16]||(i[16]=[(0,n.eW)("前往結帳")])),_:1,__:[16]})])])])):(0,n.Q3)("",!0),i[18]||(i[18]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))])}}},z=t(1241);const Z=(0,z.A)(Y,[["__scopeId","data-v-8890f7ce"]]);var ee=Z;const ae={class:"header_area"},te={class:"main_menu"},le={class:"navbar navbar-expand-lg navbar-light"},ne={class:"container"},se={class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},re={class:"nav navbar-nav menu_nav ml-auto mr-auto"},oe={class:"nav-item active"},ie={class:"nav-item active"},ue={class:"nav-shop"},ce={class:"nav-item"},de={class:"nav-shop__circle"},ve={class:"nav-item"},me={key:0,class:"nav navbar-nav menu_nav"},ke={class:"nav-item"},pe={class:"nav-link"},be={class:"nav-item"},ge={class:"nav-item mt-10"},Le={key:1,class:"nav navbar-nav menu_nav"},fe={class:"nav-item active"},he={key:0,class:"cart-popup"},_e={class:"cart-popup-inner"},ye={class:"d-flex justify-content-between align-items-center mb-2"},xe=["src"],Ce={class:"cart-item-info"},we={class:"mb-1"},Ee={class:"mb-0 text-muted"},Se={class:"mt-2"},Fe={class:"d-flex justify-content-between mt-3"};var Pe={__name:"Header",setup(e){const a=(0,m.lq)(),t=u(),s=i(),o=(0,r.KR)(!1),c=(0,r.KR)(null),d=(0,n.EW)(()=>!!t.token),v=(0,n.EW)(()=>t.userName||t.userEmail),p=(0,n.EW)(()=>"/"===a.path);function b(){c.value&&c.value.scrollIntoView({behavior:"smooth"})}function g(){d.value?o.value=!o.value:alert("請先登入")}return(e,a)=>{const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("header",ae,[(0,n.Lk)("div",te,[(0,n.Lk)("nav",le,[(0,n.Lk)("div",ne,[(0,n.bF)(i,{to:"/",onClick:a[0]||(a[0]=e=>console.log("Going home"))},{default:(0,n.k6)(()=>a[3]||(a[3]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[3]}),(0,n.Lk)("div",se,[(0,n.Lk)("ul",re,[(0,n.Lk)("li",oe,[(0,n.bF)(i,{to:"/",class:"nav-link"},{default:(0,n.k6)(()=>a[4]||(a[4]=[(0,n.eW)("Home")])),_:1,__:[4]})]),(0,n.Lk)("li",ie,[(0,n.bF)(i,{to:"/shop",class:"nav-link"},{default:(0,n.k6)(()=>a[5]||(a[5]=[(0,n.eW)("Shop")])),_:1,__:[5]})])]),(0,n.Lk)("ul",ue,[(0,n.Lk)("li",ce,[(0,n.Lk)("button",{onClick:g},[a[6]||(a[6]=(0,n.Lk)("i",{class:"ti-shopping-cart"},null,-1)),(0,n.Lk)("span",de,(0,k.v_)((0,r.R1)(s).items.length),1)])]),(0,n.Lk)("li",ve,[p.value?((0,n.uX)(),(0,n.CE)("a",{key:0,class:"button button-header",href:"#",onClick:(0,l.D$)(b,["prevent"])},"Buy Now")):(0,n.Q3)("",!0)])]),d.value?((0,n.uX)(),(0,n.CE)("ul",me,[(0,n.Lk)("li",ke,[(0,n.Lk)("span",pe,"您好，"+(0,k.v_)(v.value),1)]),a[8]||(a[8]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",be,[(0,n.bF)(i,{to:"/member/profile",class:"nav-link"},{default:(0,n.k6)(()=>a[7]||(a[7]=[(0,n.eW)("會員中心")])),_:1,__:[7]})]),a[9]||(a[9]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",ge,[(0,n.Lk)("a",{href:"#",class:"nav-link",onClick:a[1]||(a[1]=(...e)=>(0,r.R1)(t).logout&&(0,r.R1)(t).logout(...e))},"登出")])])):((0,n.uX)(),(0,n.CE)("ul",Le,[(0,n.Lk)("li",fe,[(0,n.bF)(i,{to:"/login",class:"nav-link"},{default:(0,n.k6)(()=>a[10]||(a[10]=[(0,n.eW)("登入")])),_:1,__:[10]}),a[12]||(a[12]=(0,n.Lk)("span",{class:"mx-1 text-gray-200"},"|",-1)),(0,n.bF)(i,{to:"/register",class:"nav-link"},{default:(0,n.k6)(()=>a[11]||(a[11]=[(0,n.eW)("註冊")])),_:1,__:[11]})])]))])])])]),o.value?((0,n.uX)(),(0,n.CE)("div",he,[(0,n.Lk)("div",_e,[(0,n.Lk)("div",ye,[a[14]||(a[14]=(0,n.Lk)("h5",null,"🛒 購物車",-1)),(0,n.bF)(i,{to:"/cart",class:"btn btn-sm btn-info"},{default:(0,n.k6)(()=>a[13]||(a[13]=[(0,n.eW)("管理購物車")])),_:1,__:[13]})]),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(s).items,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"cart-item"},[(0,n.Lk)("img",{src:e.image,alt:"商品圖片",class:"cart-item-image"},null,8,xe),(0,n.Lk)("div",Ce,[(0,n.Lk)("p",we,(0,k.v_)(e.name)+" × "+(0,k.v_)(e.quantity),1),(0,n.Lk)("p",Ee,"$"+(0,k.v_)((e.price*e.quantity).toFixed(2)),1)])]))),128))]),(0,n.Lk)("p",Se,[a[15]||(a[15]=(0,n.Lk)("strong",null,"總金額：",-1)),(0,n.eW)(" $"+(0,k.v_)((0,r.R1)(s).totalPrice.toFixed(2)),1)]),(0,n.Lk)("div",Fe,[(0,n.Lk)("button",{class:"btn btn-sm btn-secondary",onClick:a[2]||(a[2]=e=>o.value=!1)},"關閉"),(0,n.bF)(i,{to:"/checkout",class:"btn btn-sm btn-success"},{default:(0,n.k6)(()=>a[16]||(a[16]=[(0,n.eW)("前往結帳")])),_:1,__:[16]})])])])):(0,n.Q3)("",!0)])}}};const Xe=(0,z.A)(Pe,[["__scopeId","data-v-1c95ff92"]]);var Re=Xe;const qe={class:"container mt-5"},Ke={key:0,class:"table table-bordered mt-4"},Oe=["onClick"],Ie=["onClick"],We=["onClick"],$e={key:1},je={key:2,class:"text-right mt-4"};var Ne={__name:"Cart",setup(e){const a=i();function t(e){const t=a.items.find(a=>a.id===e);if(t){const l=t.quantity+1;a.updateQuantity(e,l)}}function l(e){const t=a.items.find(a=>a.id===e);if(t&&t.quantity>1){const l=t.quantity-1;a.updateQuantity(e,l)}}return(e,s)=>{const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(Re,{cartCount:(0,r.R1)(a).items.length},null,8,["cartCount"]),(0,n.Lk)("div",qe,[s[4]||(s[4]=(0,n.Lk)("h2",null,"🛒 購物車清單",-1)),(0,r.R1)(a).items.length>0?((0,n.uX)(),(0,n.CE)("table",Ke,[s[1]||(s[1]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"商品名稱"),(0,n.Lk)("th",null,"單價"),(0,n.Lk)("th",null,"數量"),(0,n.Lk)("th",null,"總價"),(0,n.Lk)("th",null,"操作")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(a).items,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,k.v_)(e.name),1),(0,n.Lk)("td",null,"$"+(0,k.v_)(e.price.toFixed(2)),1),(0,n.Lk)("td",null,(0,k.v_)(e.quantity),1),(0,n.Lk)("td",null,"$"+(0,k.v_)((e.price*e.quantity).toFixed(2)),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-sm btn-success",onClick:a=>t(e.id)},"＋",8,Oe),(0,n.Lk)("button",{class:"btn btn-sm btn-warning mx-1",onClick:a=>l(e.id)},"－",8,Ie),(0,n.Lk)("button",{class:"btn btn-sm btn-danger",onClick:t=>(0,r.R1)(a).removeItem(e.id)},"❌",8,We)])]))),128))])])):((0,n.uX)(),(0,n.CE)("div",$e,s[2]||(s[2]=[(0,n.Lk)("p",null,"購物車是空的。",-1)]))),(0,r.R1)(a).items.length>0?((0,n.uX)(),(0,n.CE)("div",je,[(0,n.Lk)("h4",null,"總金額：$"+(0,k.v_)((0,r.R1)(a).totalPrice.toFixed(2)),1),(0,n.Lk)("button",{class:"btn btn-warning mt-3",onClick:s[0]||(s[0]=e=>(0,r.R1)(a).clearCart())},"清空購物車"),(0,n.bF)(o,{to:"/checkout"},{default:(0,n.k6)(()=>s[3]||(s[3]=[(0,n.Lk)("button",{class:"btn btn-primary mt-3 ml-2"},"前往結帳",-1)])),_:1,__:[3]})])):(0,n.Q3)("",!0)])])}}};const Ae=Ne;var Ve=Ae,Je=t(4373);const Te={class:"container mt-5"},Me={class:"form-group"},Qe={class:"form-group"},De={class:"form-group"},Ue={class:"form-group"};var Be={__name:"Checkout",setup(e){const a="https://backend1140813groupa-eb1e507c23be.herokuapp.com",t=i(),s=u(),o=(0,r.Kh)({name:"",address:"",phone:"",note:""});async function c(){try{if(!s.user?.id)return void alert("❌ 尚未登入，請先登入");const e={user_id:s.user.id,...o,items:t.items.map(e=>({product_id:e.id,quantity:e.quantity}))},l=await Je.A.post(`${a}/api/orders`,e),n=l.data;console.log("訂單資料:",n);const r=await Je.A.post(`${a}/api/ecpay-pay`,{amount:n.amount,desc:"訂單說明",itemName:"購物商品項目",orderNo:n.order_id});t.clearCart();const i=document.createElement("div");i.innerHTML=r.data,document.body.appendChild(i),i.querySelector("form").submit()}catch(e){alert("❌ 訂單送出失敗"),console.error(e)}}return(e,a)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(Re,{cartCount:(0,r.R1)(t).items.length},null,8,["cartCount"]),(0,n.Lk)("div",Te,[a[9]||(a[9]=(0,n.Lk)("h2",null,"📝 結帳表單",-1)),(0,n.Lk)("form",{onSubmit:(0,l.D$)(c,["prevent"])},[(0,n.Lk)("div",Me,[a[4]||(a[4]=(0,n.Lk)("label",null,"姓名",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>o.name=e),type:"text",class:"form-control",required:""},null,512),[[l.Jo,o.name]])]),(0,n.Lk)("div",Qe,[a[5]||(a[5]=(0,n.Lk)("label",null,"地址",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>o.address=e),type:"text",class:"form-control",required:""},null,512),[[l.Jo,o.address]])]),(0,n.Lk)("div",De,[a[6]||(a[6]=(0,n.Lk)("label",null,"電話",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>o.phone=e),type:"text",class:"form-control",required:""},null,512),[[l.Jo,o.phone]])]),(0,n.Lk)("div",Ue,[a[7]||(a[7]=(0,n.Lk)("label",null,"備註",-1)),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":a[3]||(a[3]=e=>o.note=e),class:"form-control"},null,512),[[l.Jo,o.note]])]),a[8]||(a[8]=(0,n.Lk)("button",{class:"btn btn-success mt-3",type:"submit"},"送出訂單",-1))],32)])]))}};const He=Be;var Ge=He;const Ye={class:"header_area"},ze={class:"main_menu"},Ze={class:"navbar navbar-expand-lg navbar-light"},ea={class:"container"},aa={class:"navbar-brand logo_h"},ta={class:"relative"},la=["type"],na={key:0,class:"text-red-500 text-sm"},sa={class:"text-sm text-gray-500"},ra={class:"text-center text-sm text-gray-500"},oa={class:"text-center text-sm text-gray-500"};var ia={__name:"LoginForm",setup(e){const a=(0,r.KR)(""),t=(0,r.KR)(""),s=(0,r.KR)(""),o=(0,m.rd)(),c=u(),d="https://backend1140813groupa-eb1e507c23be.herokuapp.com",v=(0,r.KR)(!1),p=()=>{v.value=!v.value},b=async()=>{if(a.value&&t.value)try{const e=await fetch(`${d}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.value,password:t.value})}),l=await e.json();if(console.log("登入回傳資料：",l),console.log("回傳 user：",l.user),!e.ok)throw new Error(l.message||"登入失敗");localStorage.setItem("manager",l.manager),localStorage.setItem("userEmail",l.user.email),localStorage.setItem("userName",l.user.name),c.setAuth({token:l.token,userEmail:l.user.email,userName:l.user.name,isManager:l.manager,user:l.user}),localStorage.setItem("token",l.token),localStorage.setItem("userEmail",l.user.email),localStorage.setItem("userName",l.user.name),localStorage.setItem("isManager",JSON.stringify(l.manager)),localStorage.setItem("user",JSON.stringify(l.user));const n=i();await n.loadFromServer(l.user.id),!0===l.manager?o.push("/manager"):o.push("/")}catch(e){s.value=e.message}else s.value="請填寫所有欄位"};return(e,r)=>{const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("form",{onSubmit:(0,l.D$)(b,["prevent"]),class:"w-full max-w-sm mx-auto bg-white p-6 rounded-xl shadow space-y-4"},[(0,n.Lk)("header",Ye,[(0,n.Lk)("div",ze,[(0,n.Lk)("nav",Ze,[(0,n.Lk)("div",ea,[(0,n.Lk)("a",aa,[(0,n.bF)(o,{to:"/"},{default:(0,n.k6)(()=>r[2]||(r[2]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[2]})]),r[3]||(r[3]=(0,n.Lk)("div",{class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},[(0,n.Lk)("ul",{class:"nav navbar-nav menu_nav ml-auto mr-auto"},[(0,n.Lk)("h4",{class:"container mt-2"},"登入")])],-1))])])])]),(0,n.Lk)("div",null,[r[4]||(r[4]=(0,n.Lk)("label",{class:"block text-sm font-medium"},"電子郵件",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email","onUpdate:modelValue":r[0]||(r[0]=e=>a.value=e),class:"w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[l.Jo,a.value]])]),(0,n.Lk)("div",null,[r[5]||(r[5]=(0,n.Lk)("label",{class:"block text-base font-medium leading-[2.5rem]"},"密碼",-1)),(0,n.Lk)("div",ta,[(0,n.bo)((0,n.Lk)("input",{type:v.value?"text":"password","onUpdate:modelValue":r[1]||(r[1]=e=>t.value=e),class:"w-full px-4 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,8,la),[[l.hp,t.value]]),(0,n.Lk)("span",{onClick:p,class:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 text-base",title:"顯示/隱藏密碼"},(0,k.v_)(v.value?"🙈":"👁️"),1)])]),s.value?((0,n.uX)(),(0,n.CE)("div",na,(0,k.v_)(s.value),1)):(0,n.Q3)("",!0),r[10]||(r[10]=(0,n.Lk)("button",{type:"submit",class:"nav-item"},"登入",-1)),(0,n.Lk)("p",sa,[(0,n.bF)(o,{to:"/member/reset-password"},{default:(0,n.k6)(()=>r[6]||(r[6]=[(0,n.eW)("忘記密碼？")])),_:1,__:[6]})]),(0,n.Lk)("p",ra,[r[8]||(r[8]=(0,n.eW)(" 還沒有帳號？ ")),(0,n.bF)(o,{to:"/register",class:"text-blue-500 hover:underline"},{default:(0,n.k6)(()=>r[7]||(r[7]=[(0,n.eW)("前往註冊")])),_:1,__:[7]})]),(0,n.Lk)("p",oa,[(0,n.bF)(o,{to:"/",class:"text-blue-500 hover:underline"},{default:(0,n.k6)(()=>r[9]||(r[9]=[(0,n.eW)("回首頁")])),_:1,__:[9]})]),r[11]||(r[11]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))],32)}}};const ua=ia;var ca=ua;const da={class:"min-h-screen flex items-center justify-center bg-gray-100"};var va={__name:"LoginPage",setup(e){return(e,a)=>((0,n.uX)(),(0,n.CE)("div",da,[(0,n.bF)(ca)]))}};const ma=va;var ka=ma;const pa={class:"header_area"},ba={class:"main_menu"},ga={class:"navbar navbar-expand-lg navbar-light"},La={class:"container"},fa={class:"relative"},ha=["type"],_a={class:"relative"},ya=["type"],xa={key:0,class:"text-red-500 text-sm"},Ca={class:"text-center text-sm text-gray-500"},wa={class:"text-center text-sm text-gray-500"};var Ea={__name:"RegisterForm",setup(e){const a=(0,r.KR)(""),t=(0,r.KR)(""),s=(0,r.KR)(""),o=(0,r.KR)(""),i=(0,r.KR)(""),u=(0,m.rd)(),c=(0,r.KR)(!1),d=()=>{c.value=!c.value},v=async()=>{if(a.value&&t.value&&s.value&&o.value)if(s.value===o.value)try{const e="https://backend1140813groupa-eb1e507c23be.herokuapp.com",l=await fetch(`${e}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.value,email:t.value,password:s.value})}),n=await l.json();if(!l.ok)throw new Error(n.message||"註冊失敗");alert("註冊成功"),u.push("/login")}catch(e){i.value=e.message}else i.value="密碼與確認密碼不相符";else i.value="請填寫所有欄位"};return(e,r)=>{const u=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("form",{onSubmit:(0,l.D$)(v,["prevent"]),class:"w-full max-w-md mx-auto bg-white p-6 rounded-xl shadow space-y-4"},[(0,n.Lk)("header",pa,[(0,n.Lk)("div",ba,[(0,n.Lk)("nav",ga,[(0,n.Lk)("div",La,[(0,n.bF)(u,{to:"/",class:"navbar-brand logo_h"},{default:(0,n.k6)(()=>r[4]||(r[4]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[4]}),r[5]||(r[5]=(0,n.Lk)("div",{class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},[(0,n.Lk)("ul",{class:"nav navbar-nav menu_nav ml-auto mr-auto"},[(0,n.Lk)("h4",{class:"container mt-2"},"註冊")])],-1))])])])]),(0,n.Lk)("div",null,[r[6]||(r[6]=(0,n.Lk)("label",{class:"block text-sm font-medium"},"姓名",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>a.value=e),type:"text",class:"w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[l.Jo,a.value]])]),(0,n.Lk)("div",null,[r[7]||(r[7]=(0,n.Lk)("label",{class:"block text-sm font-medium"},"電子郵件",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>t.value=e),type:"email",class:"w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[l.Jo,t.value]])]),(0,n.Lk)("div",null,[r[8]||(r[8]=(0,n.Lk)("label",{class:"block text-base font-medium leading-[2.5rem]"},"密碼",-1)),(0,n.Lk)("div",fa,[(0,n.bo)((0,n.Lk)("input",{type:c.value?"text":"password","onUpdate:modelValue":r[2]||(r[2]=e=>s.value=e),class:"w-full px-4 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,8,ha),[[l.hp,s.value]]),(0,n.Lk)("span",{onClick:d,class:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 text-base",title:"顯示/隱藏密碼"},(0,k.v_)(c.value?"🙈":"👁️"),1)])]),(0,n.Lk)("div",null,[r[9]||(r[9]=(0,n.Lk)("label",{class:"block text-base font-medium leading-[2.5rem]"},"確認密碼",-1)),(0,n.Lk)("div",_a,[(0,n.bo)((0,n.Lk)("input",{type:c.value?"text":"password","onUpdate:modelValue":r[3]||(r[3]=e=>o.value=e),class:"w-full px-4 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,8,ya),[[l.hp,o.value]]),(0,n.Lk)("span",{onClick:d,class:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 text-base",title:"顯示/隱藏密碼"},(0,k.v_)(c.value?"🙈":"👁️"),1)])]),i.value?((0,n.uX)(),(0,n.CE)("div",xa,(0,k.v_)(i.value),1)):(0,n.Q3)("",!0),r[13]||(r[13]=(0,n.Lk)("button",{type:"submit",class:"nav-item"}," 註冊 ",-1)),(0,n.Lk)("p",Ca,[r[11]||(r[11]=(0,n.eW)(" 已有帳號？ ")),(0,n.bF)(u,{to:"/login",class:"text-blue-500 hover:underline"},{default:(0,n.k6)(()=>r[10]||(r[10]=[(0,n.eW)("前往登入")])),_:1,__:[10]})]),(0,n.Lk)("p",wa,[(0,n.bF)(u,{to:"/",class:"text-blue-500 hover:underline"},{default:(0,n.k6)(()=>r[12]||(r[12]=[(0,n.eW)("回首頁")])),_:1,__:[12]})]),r[14]||(r[14]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))],32)}}};const Sa=Ea;var Fa=Sa;const Pa={class:"min-h-screen flex items-center justify-center bg-gray-100"};var Xa={__name:"RegisterPage",setup(e){return(e,a)=>((0,n.uX)(),(0,n.CE)("div",Pa,[(0,n.bF)(Fa)]))}};const Ra=Xa;var qa=Ra;const Ka={class:"header_area"},Oa={class:"main_menu"},Ia={class:"navbar navbar-expand-lg navbar-light"},Wa={class:"container"},$a={class:"navbar-brand logo_h"},ja={class:"relative"},Na=["type"],Aa={class:"relative"},Va=["type"],Ja={key:0,class:"text-red-500 text-sm"},Ta={key:1,class:"text-green-600 text-sm"},Ma={class:"text-center text-sm text-gray-500"};var Qa={__name:"ResetPasswordForm",setup(e){const a=(0,r.KR)(!1),t=()=>{a.value=!a.value},s=(0,r.KR)(""),o=(0,r.KR)(""),i=(0,r.KR)(""),u=(0,r.KR)(""),c=(0,r.KR)(""),d=(0,m.rd)(),v=async()=>{if(u.value="",c.value="",s.value&&o.value&&i.value)if(o.value===i.value)try{const e="https://backend1140813groupa-eb1e507c23be.herokuapp.com",a=await fetch(`${e}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({email:s.value,newPassword:o.value})});if(!a.ok)throw new Error("密碼更新失敗");c.value="密碼更新成功",o.value="",i.value="",alert("密碼更新成功"),d.push("/login")}catch(e){u.value=e.message||"發生錯誤"}else u.value="新密碼與確認密碼不相符";else u.value="請填寫所有欄位"};return(e,r)=>{const d=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("form",{onSubmit:(0,l.D$)(v,["prevent"]),class:"w-full max-w-md mx-auto bg-white p-6 rounded-xl shadow space-y-4"},[(0,n.Lk)("header",Ka,[(0,n.Lk)("div",Oa,[(0,n.Lk)("nav",Ia,[(0,n.Lk)("div",Wa,[(0,n.Lk)("a",$a,[(0,n.bF)(d,{to:"/"},{default:(0,n.k6)(()=>r[3]||(r[3]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[3]})]),r[4]||(r[4]=(0,n.Lk)("div",{class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},[(0,n.Lk)("ul",{class:"nav navbar-nav menu_nav ml-auto mr-auto"},[(0,n.Lk)("h4",{class:"container mt-2"},"忘記密碼？")])],-1))])])])]),(0,n.Lk)("div",null,[r[5]||(r[5]=(0,n.Lk)("label",{class:"block text-sm font-medium"},"電子郵件",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email","onUpdate:modelValue":r[0]||(r[0]=e=>s.value=e),class:"w-full mt-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,512),[[l.Jo,s.value]])]),(0,n.Lk)("div",null,[r[6]||(r[6]=(0,n.Lk)("label",{class:"block text-base font-medium leading-[2.5rem]"},"確認新密碼",-1)),(0,n.Lk)("div",ja,[(0,n.bo)((0,n.Lk)("input",{type:a.value?"text":"password","onUpdate:modelValue":r[1]||(r[1]=e=>o.value=e),class:"w-full px-4 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,8,Na),[[l.hp,o.value]]),(0,n.Lk)("span",{onClick:t,class:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 text-base",title:"顯示/隱藏密碼"},(0,k.v_)(a.value?"🙈":"👁️"),1)])]),(0,n.Lk)("div",null,[r[7]||(r[7]=(0,n.Lk)("label",{class:"block text-base font-medium leading-[2.5rem]"},"確認新密碼",-1)),(0,n.Lk)("div",Aa,[(0,n.bo)((0,n.Lk)("input",{type:a.value?"text":"password","onUpdate:modelValue":r[2]||(r[2]=e=>i.value=e),class:"w-full px-4 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},null,8,Va),[[l.hp,i.value]]),(0,n.Lk)("span",{onClick:t,class:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 text-base",title:"顯示/隱藏密碼"},(0,k.v_)(a.value?"🙈":"👁️"),1)])]),u.value?((0,n.uX)(),(0,n.CE)("div",Ja,(0,k.v_)(u.value),1)):(0,n.Q3)("",!0),c.value?((0,n.uX)(),(0,n.CE)("div",Ta,(0,k.v_)(c.value),1)):(0,n.Q3)("",!0),r[9]||(r[9]=(0,n.Lk)("button",{type:"submit",class:"nav-item"},"確認修改",-1)),(0,n.Lk)("p",Ma,[(0,n.bF)(d,{to:"/",class:"text-blue-500 hover:underline"},{default:(0,n.k6)(()=>r[8]||(r[8]=[(0,n.eW)("回首頁")])),_:1,__:[8]})]),r[10]||(r[10]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))],32)}}};const Da=Qa;var Ua=Da;const Ba={class:"min-h-screen flex items-center justify-center bg-gray-100"};var Ha={__name:"ResetPasswordPage",setup(e){return(e,a)=>((0,n.uX)(),(0,n.CE)("div",Ba,[(0,n.bF)(Ua)]))}};const Ga=Ha;var Ya=Ga;const za={class:"blog-banner-area"},Za={class:"container h-100"},et={class:"row"},at={class:"blog-banner"},tt={class:"text-center"},lt={"aria-label":"breadcrumb",class:"banner-breadcrumb"},nt={class:"breadcrumb"},st={class:"breadcrumb-item active","aria-current":"page"};function rt(e,a,t,l,s,r){return(0,n.uX)(),(0,n.CE)("section",za,[(0,n.Lk)("div",Za,[(0,n.Lk)("div",et,[(0,n.Lk)("div",at,[(0,n.Lk)("div",tt,[(0,n.Lk)("h1",null,(0,k.v_)(t.title),1),(0,n.Lk)("nav",lt,[(0,n.Lk)("ol",nt,[a[0]||(a[0]=(0,n.Lk)("li",{class:"breadcrumb-item"},[(0,n.Lk)("a",{href:"/"},"首頁")],-1)),(0,n.Lk)("li",st,(0,k.v_)(t.subtitle),1)])])])])])])])}var ot={name:"BannerProps",props:{title:{type:String,required:!0},subtitle:{type:String,default:""}}};const it=(0,z.A)(ot,[["render",rt],["__scopeId","data-v-e3eaa71a"]]);var ut=it;const ct={class:"lattest-product-area pb-40 category-list"},dt={class:"filter-bar mb-4 d-flex align-items-center gap-3"},vt={class:"row"},mt={class:"card text-center card-product"},kt={class:"card-product__img"},pt=["src","alt"],bt={class:"card-body"},gt={class:"card-product__title"},Lt={class:"card-product__price"},ft={class:"pagination mt-4 d-flex justify-content-center"},ht=["onClick"];function _t(e,a,t,s,r,o){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("section",ct,[(0,n.Lk)("div",dt,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.selectedCategory=e),class:"form-control w-auto"},a[2]||(a[2]=[(0,n.Fv)('<option value="">全部分類</option><option value="Candles">Candles</option><option value="Diffusers">Diffusers</option><option value="Room Spray">Room Spray</option><option value="Body Care">Body Care</option><option value="Perfumes">Perfumes</option><option value="Kids">Kids</option>',7)]),512),[[l.u1,r.selectedCategory]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>r.searchQuery=e),type:"text",class:"form-control",placeholder:"輸入商品名稱"},null,512),[[l.Jo,r.searchQuery]])]),(0,n.Lk)("div",vt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.paginatedProducts,e=>((0,n.uX)(),(0,n.CE)("div",{class:"col-md-6 col-lg-4",key:e.product_id},[(0,n.Lk)("div",mt,[(0,n.bF)(i,{to:`/product/${e.product_id}`,class:"card text-center card-product"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",kt,[(0,n.Lk)("img",{class:"card-img",src:e.image,alt:e.name},null,8,pt)]),(0,n.Lk)("div",bt,[(0,n.Lk)("p",null,(0,k.v_)(e.category),1),(0,n.Lk)("h4",gt,(0,k.v_)(e.name),1),(0,n.Lk)("p",Lt,"$"+(0,k.v_)(e.price),1)])]),_:2},1032,["to"])])]))),128))]),(0,n.Lk)("div",ft,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.totalPages,e=>((0,n.uX)(),(0,n.CE)("button",{key:e,class:(0,k.C4)(["btn btn-outline-dark mx-1",{active:r.currentPage===e}]),onClick:a=>r.currentPage=e},(0,k.v_)(e),11,ht))),128))])])}var yt={name:"ProductGrid",data(){return{products:[],selectedCategory:"",searchQuery:"",currentPage:1,itemsPerPage:9}},computed:{filteredProducts(){return this.products.filter(e=>{const a=""===this.selectedCategory||e.category===this.selectedCategory,t=e.name.toString().toLowerCase().includes(this.searchQuery.toLowerCase());return a&&t})},totalPages(){return Math.ceil(this.filteredProducts.length/this.itemsPerPage)},paginatedProducts(){const e=(this.currentPage-1)*this.itemsPerPage;return this.filteredProducts.slice(e,e+this.itemsPerPage)}},watch:{selectedCategory(){this.currentPage=1},searchQuery(){this.currentPage=1}},mounted(){const e="https://backend1140813groupa-eb1e507c23be.herokuapp.com";fetch(`${e}/api/products`).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{this.products=e}).catch(e=>{console.error("無法載入商品資料:",e)})}};const xt=(0,z.A)(yt,[["render",_t]]);var Ct=xt;const wt={class:"header_area"},Et={class:"main_menu"},St={class:"navbar navbar-expand-lg navbar-light"},Ft={class:"container"},Pt={class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},Xt={class:"nav navbar-nav menu_nav ml-auto mr-auto"},Rt={class:"nav-item active"},qt={class:"nav-item active"},Kt={class:"nav-shop"},Ot={class:"nav-item"},It={class:"nav-shop__circle"},Wt={class:"nav-item"},$t={key:0,class:"nav navbar-nav menu_nav"},jt={class:"nav-item"},Nt={class:"nav-link"},At={class:"nav-item"},Vt={class:"nav-item mt-10"},Jt={key:1,class:"nav navbar-nav menu_nav"},Tt={class:"nav-item active"},Mt={class:"container"},Qt={class:"row"},Dt={class:"col-xl-9 col-lg-8 col-md-7"},Ut={key:0,class:"cart-popup"},Bt={class:"cart-popup-inner"},Ht={class:"d-flex justify-content-between align-items-center mb-2"},Gt=["src"],Yt={class:"cart-item-info"},zt={class:"mb-1"},Zt={class:"mb-0 text-muted"},el={class:"mt-2"},al={class:"d-flex justify-content-between mt-3"};var tl={__name:"CategoryView",setup(e){const a=i(),t=(0,r.KR)(!1),s=(0,r.KR)(null),o=u();o.initFromLocal();const c=(0,n.EW)(()=>!!o.token),d=(0,n.EW)(()=>o.userName||o.userEmail?.split("@")[0]||"用戶");function v(){c.value?t.value=!t.value:alert("請先登入")}function m(){s.value&&s.value.scrollIntoView({behavior:"smooth"})}return(e,i)=>{const u=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("header",wt,[(0,n.Lk)("div",Et,[(0,n.Lk)("nav",St,[(0,n.Lk)("div",Ft,[(0,n.bF)(u,{to:"/",class:"navbar-brand logo_h"},{default:(0,n.k6)(()=>i[2]||(i[2]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[2]}),i[12]||(i[12]=(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent"},[(0,n.Lk)("span",{class:"icon-bar"}),(0,n.Lk)("span",{class:"icon-bar"}),(0,n.Lk)("span",{class:"icon-bar"})],-1)),(0,n.Lk)("div",Pt,[(0,n.Lk)("ul",Xt,[(0,n.Lk)("li",Rt,[(0,n.bF)(u,{to:"/",class:"nav-link"},{default:(0,n.k6)(()=>i[3]||(i[3]=[(0,n.eW)("Home")])),_:1,__:[3]})]),(0,n.Lk)("li",qt,[(0,n.bF)(u,{to:"/shop",class:"nav-link"},{default:(0,n.k6)(()=>i[4]||(i[4]=[(0,n.eW)("Shop")])),_:1,__:[4]})])]),(0,n.Lk)("ul",Kt,[(0,n.Lk)("li",Ot,[(0,n.Lk)("button",{onClick:v},[i[5]||(i[5]=(0,n.Lk)("i",{class:"ti-shopping-cart"},null,-1)),(0,n.Lk)("span",It,(0,k.v_)((0,r.R1)(a).items.length),1)])]),(0,n.Lk)("li",Wt,[(0,n.Lk)("a",{class:"button button-header",href:"#",onClick:(0,l.D$)(m,["prevent"])},"Buy Now")])]),c.value?((0,n.uX)(),(0,n.CE)("ul",$t,[(0,n.Lk)("li",jt,[(0,n.Lk)("span",Nt,"您好，"+(0,k.v_)(d.value),1)]),i[7]||(i[7]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",At,[(0,n.bF)(u,{to:"/member/profile",class:"nav-link"},{default:(0,n.k6)(()=>i[6]||(i[6]=[(0,n.eW)("會員中心")])),_:1,__:[6]})]),i[8]||(i[8]=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("span",{class:"nav-link text-gray-200"},"|")],-1)),(0,n.Lk)("li",Vt,[(0,n.Lk)("a",{href:"#",class:"nav-link",onClick:i[0]||(i[0]=(...e)=>(0,r.R1)(o).logout&&(0,r.R1)(o).logout(...e))},"登出")])])):((0,n.uX)(),(0,n.CE)("ul",Jt,[(0,n.Lk)("li",Tt,[(0,n.bF)(u,{to:"/login",class:"nav-link"},{default:(0,n.k6)(()=>i[9]||(i[9]=[(0,n.eW)("登入")])),_:1,__:[9]}),i[11]||(i[11]=(0,n.Lk)("span",{class:"mx-1 text-gray-200"},"|",-1)),(0,n.bF)(u,{to:"/register",class:"nav-link"},{default:(0,n.k6)(()=>i[10]||(i[10]=[(0,n.eW)("註冊")])),_:1,__:[10]})])]))])])])])]),(0,n.bF)(ut,{title:"Shop",subtitle:"Home - Shop"}),(0,n.Lk)("section",{ref_key:"trendingSection",ref:s,class:"section-margin--small mb-5"},[(0,n.Lk)("div",Mt,[(0,n.Lk)("div",Qt,[(0,n.Lk)("div",Dt,[(0,n.bF)(Ct)])])])],512),t.value?((0,n.uX)(),(0,n.CE)("div",Ut,[(0,n.Lk)("div",Bt,[(0,n.Lk)("div",Ht,[i[14]||(i[14]=(0,n.Lk)("h5",null,"🛒 購物車",-1)),(0,n.bF)(u,{to:"/cart",class:"btn btn-sm btn-info"},{default:(0,n.k6)(()=>i[13]||(i[13]=[(0,n.eW)("管理購物車")])),_:1,__:[13]})]),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(a).items,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"cart-item"},[(0,n.Lk)("img",{src:e.image,alt:"商品圖片",class:"cart-item-image"},null,8,Gt),(0,n.Lk)("div",Yt,[(0,n.Lk)("p",zt,(0,k.v_)(e.name)+" × "+(0,k.v_)(e.quantity),1),(0,n.Lk)("p",Zt,"$"+(0,k.v_)((e.price*e.quantity).toFixed(2)),1)])]))),128))]),(0,n.Lk)("p",el,[i[15]||(i[15]=(0,n.Lk)("strong",null,"總金額：",-1)),(0,n.eW)(" $"+(0,k.v_)((0,r.R1)(a).totalPrice.toFixed(2)),1)]),(0,n.Lk)("div",al,[(0,n.Lk)("button",{class:"btn btn-sm btn-secondary",onClick:i[1]||(i[1]=e=>t.value=!1)},"關閉"),(0,n.bF)(u,{to:"/checkout",class:"btn btn-sm btn-success"},{default:(0,n.k6)(()=>i[16]||(i[16]=[(0,n.eW)("前往結帳")])),_:1,__:[16]})])])])):(0,n.Q3)("",!0),i[17]||(i[17]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))])}}};const ll=(0,z.A)(tl,[["__scopeId","data-v-060d65b3"]]);var nl=ll;const sl={class:"product_image_area"},rl={class:"container"},ol={class:"row s_product_inner"},il={class:"col-lg-6"},ul={class:"owl-theme s_Product_carousel"},cl={class:"single-prd-item"},dl=["src","alt"],vl={class:"col-lg-5 offset-lg-1"},ml={key:0,class:"s_product_text"},kl={class:"list"},pl={key:0,class:"product_count"},bl={class:"input-group",style:{width:"150px"}};var gl={__name:"ProductView",setup(e){const a="https://backend1140813groupa-eb1e507c23be.herokuapp.com",t=u(),s=(0,n.EW)(()=>!!t.token&&!!t.userEmail),o=(0,m.lq)(),c=i(),d=(0,r.KR)(1),v=(0,r.KR)({}),p=(0,r.KR)(!1);function b(){s.value?!v.value||!d.value||d.value<=0?alert("請輸入有效數量"):(c.individualaddItem({id:v.value.id,name:v.value.name,price:v.value.price,image:v.value.image,quantity:d.value}),alert("商品已加入購物車！"),p.value=!0):alert("請先登入")}return(0,n.sV)(async()=>{const e=o.params.id,t=await fetch(`${a}/api/products/${e}`),l=await t.json();v.value={id:l.product_id,name:l.name,price:l.price,image:l.image,category:l.category,stock:l.stock??10}}),(e,a)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",null,[(0,n.bF)(Re),(0,n.bF)(ut,{title:"Product",subtitle:"Home - Product"}),(0,n.Lk)("div",sl,[(0,n.Lk)("div",rl,[(0,n.Lk)("div",ol,[(0,n.Lk)("div",il,[(0,n.Lk)("div",ul,[(0,n.Lk)("div",cl,[v.value?.image?((0,n.uX)(),(0,n.CE)("img",{key:0,class:"img-fluid",src:v.value.image,alt:v.value.name},null,8,dl)):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",vl,[v.value?((0,n.uX)(),(0,n.CE)("div",ml,[(0,n.Lk)("h3",null,(0,k.v_)(v.value.name),1),(0,n.Lk)("h2",null,"$"+(0,k.v_)(v.value.price),1),(0,n.Lk)("ul",kl,[(0,n.Lk)("li",null,[a[1]||(a[1]=(0,n.Lk)("span",null,"Category",-1)),(0,n.eW)(" : "+(0,k.v_)(v.value.category),1)]),(0,n.Lk)("li",null,[a[2]||(a[2]=(0,n.Lk)("span",null,"Availibility",-1)),(0,n.eW)(" : "+(0,k.v_)(v.value.stock>0?"In Stock":"Out of Stock"),1)])]),v.value?((0,n.uX)(),(0,n.CE)("div",pl,[a[3]||(a[3]=(0,n.Lk)("label",{for:"qty"},"Quantity:",-1)),(0,n.Lk)("div",bl,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control text-center","onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),min:"1"},null,512),[[l.Jo,d.value,void 0,{number:!0}]])]),(0,n.Lk)("button",{class:"button primary-btn",onClick:b},"Add to Cart")])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)])])])])]),a[4]||(a[4]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))],64))}};const Ll=gl;var fl=Ll;const hl={class:"table table-bordered"},_l={class:"table"},yl={key:0};var xl={__name:"MemberOrdersTable",setup(e){const a=(0,r.KR)([]),t="https://backend1140813groupa-eb1e507c23be.herokuapp.com";return(0,n.sV)(async()=>{const e=await fetch(`${t}/api/users`);a.value=await e.json()}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",null,[t[3]||(t[3]=(0,n.Lk)("h4",null,"會員資料與訂單",-1)),(0,n.Lk)("table",hl,[t[2]||(t[2]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"會員ID"),(0,n.Lk)("th",null,"姓名"),(0,n.Lk)("th",null,"Email"),(0,n.Lk)("th",null,"註冊時間"),(0,n.Lk)("th",null,"訂單")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,k.v_)(e.id),1),(0,n.Lk)("td",null,(0,k.v_)(e.name),1),(0,n.Lk)("td",null,(0,k.v_)(e.email),1),(0,n.Lk)("td",null,(0,k.v_)(e.registered),1),(0,n.Lk)("td",null,[(0,n.Lk)("table",_l,[t[1]||(t[1]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"訂單編號"),(0,n.Lk)("th",null,"金額"),(0,n.Lk)("th",null,"狀態")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.orders,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,k.v_)(e.id),1),(0,n.Lk)("td",null,(0,k.v_)(e.amount),1),(0,n.Lk)("td",null,(0,k.v_)(e.status),1)]))),128)),0===e.orders.length?((0,n.uX)(),(0,n.CE)("tr",yl,t[0]||(t[0]=[(0,n.Lk)("td",{colspan:"3"},"無訂單",-1)]))):(0,n.Q3)("",!0)])])])]))),128))])])]))}};const Cl=xl;var wl=Cl;const El={class:"table table-bordered"},Sl=["src"];var Fl={__name:"ProductInventory",setup(e){const a=(0,r.KR)([]);return(0,n.sV)(async()=>{const e="https://backend1140813groupa-eb1e507c23be.herokuapp.com",t=await fetch(`${e}/api/products`);a.value=await t.json()}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",null,[t[1]||(t[1]=(0,n.Lk)("h4",null,"商品庫存查詢",-1)),(0,n.Lk)("table",El,[t[0]||(t[0]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"商品編號"),(0,n.Lk)("th",null,"名稱"),(0,n.Lk)("th",null,"分類"),(0,n.Lk)("th",null,"庫存"),(0,n.Lk)("th",null,"價格"),(0,n.Lk)("th",null,"圖片")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,k.v_)(e.product_id),1),(0,n.Lk)("td",null,(0,k.v_)(e.name),1),(0,n.Lk)("td",null,(0,k.v_)(e.category),1),(0,n.Lk)("td",null,(0,k.v_)(e.stock),1),(0,n.Lk)("td",null,(0,k.v_)(e.price),1),(0,n.Lk)("td",null,[(0,n.Lk)("img",{src:e.image,alt:"商品圖片",style:{height:"80px"}},null,8,Sl)])]))),128))])])]))}};const Pl=Fl;var Xl=Pl;const Rl={class:"form-group"},ql={class:"form-group"},Kl={class:"form-group"},Ol={class:"form-group"},Il={class:"form-group"};var Wl={__name:"ProductForm",setup(e){const a="https://backend1140813groupa-eb1e507c23be.herokuapp.com",t=(0,r.KR)({name:"",category:"",price:0,stock:0}),s=(0,r.KR)(null);function o(e){s.value=e.target.files[0]}async function i(){const e=new FormData;for(const a in t.value)e.append(a,t.value[a]);e.append("image",s.value);const l=await fetch(`${a}/api/products`,{method:"POST",body:e}),n=await l.json();alert(n.message)}return(e,a)=>((0,n.uX)(),(0,n.CE)("div",null,[a[10]||(a[10]=(0,n.Lk)("h4",null,"商品上架",-1)),(0,n.Lk)("form",{onSubmit:(0,l.D$)(i,["prevent"])},[(0,n.Lk)("div",Rl,[a[4]||(a[4]=(0,n.Lk)("label",null,"商品名稱",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.name=e),type:"text",class:"form-control",required:""},null,512),[[l.Jo,t.value.name]])]),(0,n.Lk)("div",ql,[a[5]||(a[5]=(0,n.Lk)("label",null,"分類",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>t.value.category=e),type:"text",class:"form-control",required:""},null,512),[[l.Jo,t.value.category]])]),(0,n.Lk)("div",Kl,[a[6]||(a[6]=(0,n.Lk)("label",null,"價格",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>t.value.price=e),type:"number",class:"form-control",required:""},null,512),[[l.Jo,t.value.price,void 0,{number:!0}]])]),(0,n.Lk)("div",Ol,[a[7]||(a[7]=(0,n.Lk)("label",null,"庫存數量",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>t.value.stock=e),type:"number",class:"form-control",required:""},null,512),[[l.Jo,t.value.stock,void 0,{number:!0}]])]),(0,n.Lk)("div",Il,[a[8]||(a[8]=(0,n.Lk)("label",null,"上傳圖片",-1)),(0,n.Lk)("input",{type:"file",class:"form-control-file",onChange:o,required:""},null,32)]),a[9]||(a[9]=(0,n.Lk)("button",{type:"submit",class:"btn btn-primary"},"送出",-1))],32)]))}};const $l=Wl;var jl=$l;const Nl={class:"header_area"},Al={class:"main_menu"},Vl={class:"navbar navbar-expand-lg navbar-light"},Jl={class:"container"},Tl={class:"navbar-brand logo_h"},Ml={class:"admin-container"},Ql={class:"nav nav-tabs"},Dl=["onClick"];var Ul={__name:"ManagerPage",setup(e){const a=(0,r.KR)("memberOrders"),t=[{id:"memberOrders",label:"會員與訂單管理"},{id:"products",label:"商品庫存查詢"},{id:"addProduct",label:"商品上架"}],s=(0,n.EW)(()=>{switch(a.value){case"memberOrders":return wl;case"products":return Xl;case"addProduct":return jl}});return(e,r)=>{const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("header",Nl,[(0,n.Lk)("div",Al,[(0,n.Lk)("nav",Vl,[(0,n.Lk)("div",Jl,[(0,n.Lk)("a",Tl,[(0,n.bF)(o,{to:"/"},{default:(0,n.k6)(()=>r[0]||(r[0]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[0]})]),r[1]||(r[1]=(0,n.Lk)("div",{class:"collapse navbar-collapse offset",id:"navbarSupportedContent"},[(0,n.Lk)("ul",{class:"nav navbar-nav menu_nav ml-auto mr-auto"},[(0,n.Lk)("h4",{class:"container mt-2"},"登入")])],-1))])])])]),(0,n.Lk)("div",Ml,[r[2]||(r[2]=(0,n.Lk)("h2",null,"後台管理系統",-1)),(0,n.Lk)("ul",Ql,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(t,e=>(0,n.Lk)("li",{class:"nav-item",key:e.id},[(0,n.Lk)("a",{class:(0,k.C4)(["nav-link",{active:a.value===e.id}]),href:"#",onClick:(0,l.D$)(t=>a.value=e.id,["prevent"])},(0,k.v_)(e.label),11,Dl)])),64))]),((0,n.uX)(),(0,n.Wv)((0,n.$y)(s.value)))]),r[3]||(r[3]=(0,n.Lk)("footer",{class:"footer mt-5"},[(0,n.Lk)("div",{class:"footer-area"},[(0,n.Lk)("div",{class:"container"},[(0,n.Lk)("p",{class:"text-center pt-5"},"© 2025 Aroma Shop. All rights reserved.")])])],-1))],64)}}};const Bl=Ul;var Hl=Bl;const Gl={class:"navbar-brand logo_h"},Yl={class:"table table-bordered"},zl={key:0},Zl={key:1},en={key:0,class:"table table-bordered"},an={key:1};var tn={__name:"MemberTable",setup(e){const a=u(),t=i(),l=(0,m.rd)(),s=(0,r.KR)([]),o=()=>{a.logout(),t.clearCart(),l.push("/")},c=(0,n.EW)(()=>a.user),d=(0,n.EW)(()=>a.token),v="https://backend1140813groupa-eb1e507c23be.herokuapp.com";return(0,n.sV)(async()=>{if(a.user?.id){const e=await fetch(`${v}/api/orders/${a.user.id}`);s.value=await e.json()}}),(e,a)=>{const t=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",null,[(0,n.Lk)("a",Gl,[(0,n.bF)(t,{to:"/"},{default:(0,n.k6)(()=>a[0]||(a[0]=[(0,n.Lk)("img",{src:"/aroma/img/logo.png",alt:""},null,-1)])),_:1,__:[0]})]),(0,n.Lk)("button",{class:"btn btn-danger mb-3",onClick:o},"登出"),a[4]||(a[4]=(0,n.Lk)("h4",null,"會員資料",-1)),(0,n.Lk)("table",Yl,[a[3]||(a[3]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"ID"),(0,n.Lk)("th",null,"姓名"),(0,n.Lk)("th",null,"Email"),(0,n.Lk)("th",null,"註冊時間"),(0,n.Lk)("th",null,"頭像")])],-1)),(0,n.Lk)("tbody",null,[d.value&&c.value?((0,n.uX)(),(0,n.CE)("tr",zl,[(0,n.Lk)("td",null,(0,k.v_)(c.value.id),1),(0,n.Lk)("td",null,(0,k.v_)(c.value.name),1),(0,n.Lk)("td",null,(0,k.v_)(c.value.email),1),(0,n.Lk)("td",null,(0,k.v_)(c.value.registered),1),a[1]||(a[1]=(0,n.Lk)("td",null,[(0,n.Lk)("img",{src:"aroma/img/r1.jpg",alt:"avatar",style:{height:"50px"}})],-1))])):((0,n.uX)(),(0,n.CE)("tr",Zl,a[2]||(a[2]=[(0,n.Lk)("td",{colspan:"5"},"尚未登入",-1)])))])])]),a[6]||(a[6]=(0,n.Lk)("h4",null,"購買紀錄",-1)),s.value.length?((0,n.uX)(),(0,n.CE)("table",en,[a[5]||(a[5]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"訂單編號"),(0,n.Lk)("th",null,"金額"),(0,n.Lk)("th",null,"狀態"),(0,n.Lk)("th",null,"日期"),(0,n.Lk)("th",null,"商品明細")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.value,e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.order_id},[(0,n.Lk)("td",null,(0,k.v_)(e.order_id),1),(0,n.Lk)("td",null,"$"+(0,k.v_)(e.amount),1),(0,n.Lk)("td",null,(0,k.v_)(e.status),1),(0,n.Lk)("td",null,(0,k.v_)(new Date(e.created_at).toLocaleString()),1),(0,n.Lk)("td",null,[(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.items,e=>((0,n.uX)(),(0,n.CE)("li",{key:e.product_id},(0,k.v_)(e.product_id)+" × "+(0,k.v_)(e.quantity)+"（單價: $"+(0,k.v_)(e.price)+"） ",1))),128))])])]))),128))])])):((0,n.uX)(),(0,n.CE)("p",an,"尚無購買紀錄"))],64)}}};const ln=tn;var nn=ln;const sn={class:"min-h-screen flex items-center justify-center bg-gray-100"};var rn={__name:"ProfilePage",setup(e){return(e,a)=>((0,n.uX)(),(0,n.CE)("div",sn,[(0,n.bF)(nn)]))}};const on=rn;var un=on;const cn=[{path:"/",name:"Home",component:ee},{path:"/login",component:ka},{path:"/register",component:qa},{path:"/shop",name:"Shop",component:nl},{path:"/product/:id",name:"Product",component:fl},{path:"/member/reset-password",component:Ya},{path:"/cart",name:"Cart",component:Ve},{path:"/checkout",name:"Checkout",component:Ge},{path:"/manager",component:Hl,meta:{requiresManager:!0}},{path:"/member/profile",component:un}],dn=(0,m.aE)({history:(0,m.LA)(),routes:cn});dn.beforeEach((e,a,t)=>{const l="true"===localStorage.getItem("manager");if(e.meta.requiresManager&&!l)return t("/");t()});var vn=dn,mn=t(5827);const kn=(0,l.Ef)(v),pn=(0,s.Ey)();pn.use(mn.A),kn.use(pn),kn.use((0,s.Ey)()),kn.use(vn),kn.mount("#app");const bn=u();bn.initFromLocal()}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var s=a[l]={exports:{}};return e[l].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,s){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],s=e[c][2];for(var o=!0,i=0;i<l.length;i++)(!1&s||r>=s)&&Object.keys(t.O).every(function(e){return t.O[e](l[i])})?l.splice(i--,1):(o=!1,s<r&&(r=s));if(o){e.splice(c--,1);var u=n();void 0!==u&&(a=u)}}return a}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[l,n,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,s,r=l[0],o=l[1],i=l[2],u=0;if(r.some(function(a){return 0!==e[a]})){for(n in o)t.o(o,n)&&(t.m[n]=o[n]);if(i)var c=i(t)}for(a&&a(l);u<r.length;u++)s=r[u],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(c)},l=self["webpackChunkaroma_shop"]=self["webpackChunkaroma_shop"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],function(){return t(8709)});l=t.O(l)})();
//# sourceMappingURL=app.83c245c6.js.map